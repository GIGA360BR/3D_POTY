if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7,![]);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA){var bB=this['_getRootPlayer']();var bC=bB['getActivePlayerWithViewer'](bB['getMainViewer']());var bD=bC?bB['getMediaFromPlayer'](bC):undefined;var bE;if('media'in bA){var bF=bA['media'];var bG=Number(bF);bE=isNaN(bG)?this['setMediaByName'](bF):this['setMediaByIndex'](bG-0x1);}else if('media-index'in bA){bE=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bE=this['setMediaByName'](bA['media-name']);}if(bE==undefined){bE=this['setMediaByIndex'](0x0);}if(bE!=undefined){var bH=bE['get']('player');var bI=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bE['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bE,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bM=bB['getPlayListWithItem'](bE);if(bM){switch(bE['get']('class')){case'PanoramaPlayListItem':var bN=parseFloat(bA['yaw'])||undefined;var bO=parseFloat(bA['pitch'])||undefined;bB['setPanoramaCameraWithSpot'](bM,bE,bN,bO);break;case'Model3DPlayListItem':var bP=['yaw','pitch','x','y','z','distance'];var bQ={};for(var bR=0x0;bR<bP['length'];++bR){var bS=bP[bR];var bT=parseFloat(bA[bS]);if(!isNaN(bT))bQ[bS]=bT;}bB['setModel3DCameraSpot'](bM,bE,bQ);break;}}}}['bind'](this);if(bH){var bJ=bH['get']('viewerArea')==bB['getMainViewer']();var bK=bB['getMediaFromPlayer'](bH);if(bJ&&bD==bE['get']('media')||!bJ&&bK==bE['get']('media')){bI();return bE!=undefined;}}var bL=function(){bE['unbind']('begin',bL,this);bI();};bE['bind']('begin',bL,bB);}return bE!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bU=function(){var bV;var bW=function(){var bZ=this['_getRootPlayer']();bV=bZ['get']('lockedOrientation');bZ['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bX=function(){bW();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bX);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bX);this['reload'](!![]);}else{bW();}var bY=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bV);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],bY);var c0=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c0)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],bY);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bU);}};TDV['Tour']['prototype']['_updateParams']=function(c1,c2){if(c2&&'language'in c1){var c3=c1['language'];if(this['locManager']['hasLocale'](c3)){this['setLocale'](c3);}}var c4=function(c6,c7,c8){var c9=c7['split'](',');for(var ca=0x0,cb=c9['length'];ca<cb;++ca){c6['call'](this,c9[ca]['split']('+'),c8,'and');}};var c5=function(cc){var cd=this['_getRootPlayer']();var ce=cd['getActiveMediaWithViewer'](cd['getMainViewer']());if(ce['get']('class')!='Model3D')return;var cf=ce['get']('objects');var cg=[];cc['split']('+')['forEach'](function(ch){var ci=ch['split'](',');var cj=ci['shift']();if(cj in cd&&ci['length']%0x3==0x0){var ck=ci[0x0],cl=ci[0x1],cm=ci[0x2];var cn=cf['some'](function(cs){return cs['get']('class')=='MeasureModel3DObject'&&ck==cs['get']('x')&&cl==cs['get']('y')&&cm==cs['get']('z');});if(cn)return;var co=[];var cp=_cloneMeasureModel3DObject['call'](this,this[cj]);cp['set']('mode','view');cp['set']('x',ck);cp['set']('y',cl);cp['set']('z',cm);for(var cq=0x3;cq<ci['length'];cq+=0x3){var cr=this['createInstance']('MeasureModel3DObjectPoint');cr['set']('x',ci[cq]);cr['set']('y',ci[cq+0x1]);cr['set']('z',ci[cq+0x2]);co['push'](cr);}cp['set']('points',co);cg['push'](cp);}}['bind'](cd));if(cg['length']>0x0){ce['set']('objects',cf['concat'](cg));}};if('hide-components-tags'in c1||'hct'in c1)c4['call'](this,this['setComponentsVisibilityByTags'],c1['hide-components-tags']||c1['hct'],![]);if('show-components-tags'in c1||'sct'in c1)c4['call'](this,this['setComponentsVisibilityByTags'],c1['show-components-tags']||c1['sct'],!![]);if('hide-overlays-tags'in c1||'hot'in c1)c4['call'](this,this['setOverlaysVisibilityByTags'],c1['hide-overlays-tags']||c1['hot'],![]);if('show-overlays-tags'in c1||'sot'in c1)c4['call'](this,this['setOverlaysVisibilityByTags'],c1['show-overlays-tags']||c1['sot'],!![]);if('hide-overlays-names'in c1||'hon'in c1)this['setOverlaysVisibilityByName'](decodeURIComponent(c1['hide-overlays-names']||c1['hon'])['split'](','),![]);if('show-overlays-names'in c1||'son'in c1)this['setOverlaysVisibilityByName'](decodeURIComponent(c1['show-overlays-names']||c1['son'])['split'](','),!![]);if('show-object-ids'in c1||'sobjids'in c1)this['setObjectsVisibilityByID'](decodeURIComponent(c1['show-object-ids']||c1['sobjids'])['split'](','),!![]);if('hide-object-ids'in c1||'hobjids'in c1)this['setObjectsVisibilityByID'](decodeURIComponent(c1['hide-object-ids']||c1['hobjids'])['split'](','),![]);if('variant'in c1)this['setModel3DVariant'](decodeURIComponent(c1['variant']));if('measures'in c1)c5['call'](this,decodeURIComponent(c1['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(ct,cu,cv,cw){TDV['EventDispatcher']['call'](this);this['rootPlayer']=ct;this['locales']={};this['defaultLocale']=cv;this['queryParam']=cw;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cx in cu){this['registerLocale'](cx,cu[cx]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cy,cz){var cA=[cy,cy['split']('-')[0x0]];for(var cB=0x0;cB<cA['length'];++cB){cy=cA[cB];if(!(cy in this['locales'])){this['locales'][cy]=cz;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cC){delete this['locales'][cC];if(cC==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cD){return cD in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cE){var cF;var cG=cE['split']('-')[0x0];var cH=[cE,cG];for(var cI=0x0;cI<cH['length'];++cI){var cK=cH[cI];if(cK in this['locales']){cF=cK;break;}}if(cF===undefined){for(var cK in this['locales']){if(cK['indexOf'](cG)==0x0){cF=cK;break;}}}if(cF===undefined){cF=this['defaultLocale'];}var cL=this['locales'][cF];if(cL!==undefined&&this['currentLocaleID']!=cF){this['currentLocaleID']=cF;var cM=this;if(typeof cL=='string'){var cN=new XMLHttpRequest();cN['onreadystatechange']=function(){if(cN['readyState']==0x4){if(cN['status']==0xc8){cM['locales'][cF]=cM['currentLocaleMap']=cM['_parsePropertiesContent'](cN['responseText']);cM['dispatchEvent'](cM['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cL+'\x20can\x27t\x20be\x20loaded';}}};var cO=cL;if(this['queryParam'])cO+=(cO['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cN['open']('GET',cO);cN['send']();}else{this['currentLocaleMap']=cL;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cP){function cQ(cU){return/^\d+$/['test'](cU);}var cR=this['currentLocaleMap'][cP];if(cR&&arguments['length']>0x2){var cS=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cT=arguments;cR=cR['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cV,cW){if(cQ(cW))cW=cT[parseInt(cW)+0x1];else if(cS!==undefined)cW=cS[cW];if(typeof cW=='string')cW=this['currentLocaleMap'][cW]||cW;else if(typeof cW=='function')cW=cW['call'](this['rootPlayer']);return cW!==undefined?cW:'';}['bind'](this));}return cR;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cX){cX=cX['replace'](/(^|\n)#[^\n]*/g,'');var cY={};var cZ=cX['split']('\x0a');for(var d0=0x0,d1=cZ['length'];d0<d1;++d0){var d2=cZ[d0]['trim']();if(d2['length']==0x0){continue;}var d3=d2['indexOf']('=');if(d3==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d0);continue;}var d4=d2['substr'](0x0,d3)['trim']();var d5=d2['substr'](d3+0x1)['trim']();var d6;while((d6=d5['lastIndexOf']('\x5c'))!=-0x1&&d6==d5['length']-0x1&&++d0<d1){d5=d5['substr'](0x0,d5['length']-0x2);d2=cZ[d0];if(d2['length']==0x0)break;d5+='\x0a'+d2;d5=d5['trim']();}cY[d4]=d5;}return cY;};TDV['Tour']['HistoryData']=function(d7){this['playList']=d7;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(d8){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==d8){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],d8);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(d9,da){return typeof da=='string'?d9[da['replace']('this.','')]:da;}function _initModels(){var db=this['getByClassName']('Model3D');db['forEach'](function(dc){var dd=dc['get']('data');var de=dd['panoramaLocations'];if(de){de['forEach'](function(df){df=_getObject(this,df);var dg=df['get']('data');var dh=_getObject(this,dg['panorama']);dh['set']('modelLocations',(dh['get']('modelLocations')||[])['concat'](df));}['bind'](this));}this['getPlayListItems'](dc)['forEach'](function(di){_initModel3DItem['call'](this,di);}['bind'](this));}['bind'](this));}function _initModel3DItem(dj){var dk=dj['get']('player');if(!dk)return;var dl=dk['get']('viewerArea');if(!dl)return;var dm=dj['get']('media');var dn;dj['bind']('begin',function(){_initModel['call'](this,dm);dn=dl['get']('doubleClickAction');dl['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dp){if(dp['get']('class')=='PanoramaPlayer'&&dp['get']('viewerArea')==dl){dp['set']('model3DPlayer',dk);}});},this);dj['bind']('stop',function(){dl['set']('doubleClickAction',dn);},this);}function _initModel(dq){var dr=dq['get']('data');if(!dr)dq['set']('data',dr={});if(!dr['panoramaLocations']||dr['isInitialized']||!dq['get']('isLoaded'))return;var ds=0xb4/Math['PI'];var dt=dq['get']('worldUnitToMeters')||0x1;var du=dr['maxDistanceObjectsVisible']||0x0;var dv=dr['panoramaLocations'];var dw=[];var dx=this['get']('data')['surfaceSelectionHotspotMode'];var dy=dx=='hotspotEnabled';dv['forEach'](function(dF){dF=_getObject(this,dF);var dG=dF['get']('data');var dH=dq['getDistanceToFloor']([dF['get']('x'),dF['get']('y'),dF['get']('z')]);var dI=_getObject(this,dG['panorama']);var dJ=dv['filter'](function(dS){var dT=_getObject(this,_getObject(this,dS)['get']('data'));return!dT['excludeAsHotspotPanorama']&&dI!=dT['panorama'];}['bind'](this))['map'](function(dU){dU=_getObject(this,dU);var dV=dU['get']('data');var dW=!!dV['excludeSurfaceSelectionModel'];var dX=dU['get']('x')-dF['get']('x'),dY=dU['get']('y')-dF['get']('y'),dZ=dU['get']('z')-dF['get']('z');var e0=Math['atan2'](dX,-dZ)*ds;var e1=Math['atan2'](dY,Math['sqrt'](dX*dX+dZ*dZ))*ds;var e2=Math['sqrt'](dX*dX+dY*dY+dZ*dZ);var e3=dq['getDistanceToFloor']([dU['get']('x'),dU['get']('y'),dU['get']('z')]);if(dH!==undefined&&e3!==undefined)dY=e3-dH;var e4=Math['sqrt'](dX*dX+dY*dY+dZ*dZ);return{'yaw':e0,'pitch':e1,'width':dV['width'],'height':dV['height'],'opacity':dV['opacity'],'anchorX':dV['anchorX']?dV['anchorX']:0.5,'anchorY':dV['anchorY']?dV['anchorY']:0.5,'transparentAreaActive':!!dV['transparentAreaActive'],'actions':dV['actions'],'position':{'x':dU['get']('x'),'y':dU['get']('y'),'z':dU['get']('z')},'image':_getObject(this,dV['image']),'distance':e2*dt,'floorDistance':e4*dt,'panorama':_getObject(this,dV['panorama']),'backwardYaw':e0-0xb4-dU['get']('yaw'),'excludeSurfacePanorama':dW};}['bind'](this));dJ['sort'](function(e5,e6){return e5['distance']-e6['distance'];});var dK=[],dL=(dI['get']('adjacentPanoramas')||[])['concat']();var dM=dq['get']('maxNearestObjectsVisible');var dN=dr['showOnlyHotspotsLineSightInPanoramas'];var dO={'x':dF['get']('x'),'y':dF['get']('y'),'z':dF['get']('z')};dJ['forEach'](function(e7){if(e7['panorama']==dI||dM>0x0&&dK['length']>=dM||du>0x0&&e7['distance']>du||dN&&dq['testIntersection'](dO,e7['position']))return;var e8=dA['call'](this,e7['panorama'],e7['yaw']-dF['get']('yaw'),e7['pitch'],e7['width'],e7['height'],e7['anchorX'],e7['anchorY'],e7['opacity'],e7['transparentAreaActive'],e7['image'],dy&&!e7['excludeSurfacePanorama']);var e9=dB['call'](this,e7['panorama'],e7['yaw']-dF['get']('yaw'),e7['backwardYaw'],e7['floorDistance'],!e7['excludeSurfacePanorama']);dK['push'](e8);var ea=dL['findIndex'](function(ec){return ec['get']('panorama')==e7['panorama'];});if(ea!=-0x1)dL['splice'](ea,0x1);dL['push'](e9);e8['get']('areas')[0x0]['bind']('click',dz['bind'](this,dI,e7['panorama'],dq,!![]),this);e9['bind']('select',dz['bind'](this,dI,e7['panorama'],dq,!![]),this);var eb=e7['actions'];if(eb){dE['call'](this,e8,eb);if('click'in eb)e9['bind']('select',new Function('event',eb['click']),this);}}['bind'](this));dI['set']('overlays',(dI['get']('overlays')||[])['concat'](dK));dI['set']('adjacentPanoramas',dL);var dP=!dq['get']('surfaceSelectionEnabled')||!!dG['excludeSurfaceSelectionModel'];var dQ;if(dP){dQ=dC['call'](this,dF['get']('x'),dF['get']('y'),dF['get']('z'),dG['width'],dG['height'],dG['anchorX']?dG['anchorX']:0.5,dG['anchorY']?dG['anchorY']:0.5,dG['opacity'],!!dG['transparentAreaActive'],dr['showOnlyHotspotsLineSight'],_getObject(this,dG['image']));dQ['set']('id','sprite_'+dF['get']('id'));dQ['set']('translationLineColor',dG['translationLineColor']!=null?dG['translationLineColor']:'#ffffff');dQ['set']('translationLineOpacity',dG['translationLineOpacity']!=null?dG['translationLineOpacity']:0x1);dQ['set']('translationLineVisible',dG['translationLineVisible']!=null?dG['translationLineVisible']:![]);dQ['set']('translationLineWidth',dG['translationLineWidth']!=null?dG['translationLineWidth']:0x1);dQ['set']('translationLength',dG['translationLength']!=null?dG['translationLength']:dr['showOnlyHotspotsLineSight']&&(dG['translationY']==null||dG['translationY']==0x0)?dG['height']/0x2:undefined);dQ['set']('translationX',dG['translationX']!=null?dG['translationX']:0x0);dQ['set']('translationY',dG['translationY']!=null&&dG['translationY']!=0x0?dG['translationY']:dr['showOnlyHotspotsLineSight']?0x1:0x0);dQ['set']('translationZ',dG['translationZ']!=null?dG['translationZ']:0x0);dG['sprite']=dQ;}else dQ=dD['call'](this,dF['get']('x'),dF['get']('y'),dF['get']('z'));if(dG['enabled']!==undefined)dQ['set']('enabled',dG['enabled']);dQ['get']('data')['location']=dF;var dR=dG['actions'];if(dR){dE['call'](this,dQ,dR);}dQ['bind']('click',dz['bind'](this,dq,dI,dq,![]),this);dw['push'](dQ);}['bind'](this));dq['set']('objects',(dq['get']('objects')||[])['concat'](dw));dr['isInitialized']=!![];function dz(ed,ee,ef,eg){var eh=this['getPlayListsWithMedia'](ed,!![])['filter'](function(eo){return this['getMediaFromPlayer'](eo['get']('items')[eo['get']('selectedIndex')]['get']('player'))==ed;}['bind'](this));if(eh['length']==0x0)return;var ei=this['getPlayListItemByMedia'](eh[0x0],ed);var ej=ei['get']('player')['get']('viewerArea');var ek;this['getPlayListsWithMedia'](ee)['forEach'](function(ep){var eq=this['getPlayListItemByMedia'](ep,ee);if(eq['get']('player')['get']('viewerArea')==ej){if(eg&&ei['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){el();eq['bind']('begin',en,this);}ep['set']('selectedIndex',ep['get']('items')['indexOf'](eq));}}['bind'](this));function el(){ek=ef['get']('objects')['filter'](function(er){var es=er['get']('data');return es&&es['location']!==undefined;});ek['forEach'](function(et){et['set']('enabled',![]);});}function em(){ek['forEach'](function(eu){eu['set']('enabled',!![]);});}function en(ev){ev['source']['unbind']('begin',en,this);em();}}function dA(ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG){var eH=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eG,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eE?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':ex,'pitch':ey,'width':ez,'height':eA,'offsetX':eB*ez,'offsetY':eC*eA,'opacity':eD!=undefined?eD:0x1}]});eH['get']('items')[0x0]['set']('image',eF);return eH;}function dB(eI,eJ,eK,eL,eM){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eI['get']('id'),'backwardYaw':eK,'yaw':eJ,'distance':eL,'enabledInSurfaceSelection':eM});}function dC(eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX){var eY=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eN,'y':eO,'z':eP,'anchorX':eS,'anchorY':eT,'depthTest':eW,'transparentAreaActive':eV,'hideBasedOnDistance':!![],'width':eQ,'height':eR,'opacity':eU!=undefined?eU:0x1,'data':{}});eY['set']('image',eX);return eY;}function dD(eZ,f0,f1){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':eZ,'y':f0,'z':f1,'depthTest':![],'data':{}});}function dE(f2,f3){Object['keys'](f3)['forEach'](function(f4){if(f2['hasEvent'](f4))f2['bind'](f4,new Function('event',f3[f4]),this);}['bind'](this));}}function _findLocationWithPanorama(f5){var f6=this['getByClassName']('Model3D');for(var f7=0x0,f8=f6['length'];f7<f8;++f7){var f9=f6[f7];var fa=f9['get']('data');if(fa&&fa['panoramaLocations']){var fb=fa['panoramaLocations']['find'](function(fc){fc=_getObject(this,fc);return _getObject(this,fc['get']('data')['panorama'])==f5;}['bind'](this));if(fb)return _getObject(this,fb);}}return undefined;}function _getPlayersWithViewer(fd){var fe=this['getCurrentPlayers']();var ff=fe['length'];while(ff-->0x0){var fg=fe[ff];if(fg['get']('viewerArea')!=fd){fe['splice'](ff,0x1);}}return fe;}function _createInstance(fh,fi,fj){var fk=fh['createInstance'](fi);if(fj){fk['set']('id',fj);fh[fj]=fk;}return fk;}function _createInstanceFromObj(fl,fm){return fn(fm);function fn(fo,fp){if(typeof fo=='object'){if('class'in fo){try{fp=_createInstance(fl,fo['class'],fo['id']);}catch(ft){fp=fo;}}else{fp=fo;}}var fq=function(fu,fv){if('set'in fp)fp['set'](fu,fv);else fp[fu]=fv;};for(var fr in fo){var fs=fo[fr];if(typeof fs=='object'&&fs!==null)fq(fr,fn(fs,fp));else if(typeof fs=='string'&&fs['indexOf']('this.')==0x0)fq(fr,fl[fs['replace']('this.','')]);else fq(fr,fs);}return fp;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fw,fx){for(var fy in fw){var fz=fw[fy];if(typeof fz=='object'&&fz!==null)this['assignObjRecursively'](fw[fy],fx[fy]||(fx[fy]={}));else fx[fy]=fz;}return fx;};TDV['Tour']['Script']['autotriggerAtStart']=function(fA,fB,fC){var fD=function(fE){fB();if(fC==!![])fA['unbind']('change',fD,this);};fA['bind']('change',fD,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fF,fG,fH){var fI=function(){fJ['unbind']('stop',fI,this);if(fH==fL['get']('backgroundColor')&&fO==fL['get']('backgroundColorRatios')){fL['set']('backgroundColor',fM);fL['set']('backgroundColorRatios',fN);}};var fJ=fF['get']('items')[fG];var fK=fJ['get']('player');var fL=fK['get']('viewerArea');var fM=fL['get']('backgroundColor');var fN=fL['get']('backgroundColorRatios');var fO=[0x0];if(fH!=fM||fO!=fN){fL['set']('backgroundColor',fH);fL['set']('backgroundColorRatios',fO);fJ['bind']('stop',fI,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fP,fQ,fR){var fS=function(){fT['unbind']('stop',fS,this);if(fW==fV['get']('backgroundOpacity')){fV['set']('opacity',fW);}};var fT=fP['get']('items')[fQ];var fU=fT['get']('player');var fV=fU['get']('viewerArea');var fW=fV['get']('backgroundOpacity');if(fR!=fW){fV['set']('backgroundOpacity',fR);fT['bind']('stop',fS,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(fX,fY){var fZ=fX['get']('selectedIndex');if(fZ>=0x0&&fY>=0x0&&fZ!=fY){var g0=fX['get']('items')[fZ];var g1=fX['get']('items')[fY];var g2=g0['get']('player');var g3=g1['get']('player');if((g2['get']('class')=='PanoramaPlayer'||g2['get']('class')=='Video360Player')&&(g3['get']('class')=='PanoramaPlayer'||g3['get']('class')=='Video360Player')){var g4=this['clonePanoramaCamera'](g1['get']('camera'));this['setCameraSameSpotAsMedia'](g4,g0['get']('media'));var g5=g4['get']('initialPosition');if(g5['get']('yaw')==undefined||g5['get']('pitch')==undefined||g5['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g1['get']('media'),g4);}}};TDV['Tour']['Script']['clone']=function(g6,g7){var g8=this['rootPlayer']['createInstance'](g6['get']('class'));var g9=g6['get']('id');if(g9){var gb=g9+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);g8['set']('id',gb);this[gb]=g8;}for(var gc=0x0;gc<g7['length'];++gc){var gd=g7[gc];var ge=g6['get'](gd);if(ge!=null)g8['set'](gd,ge);}return g8;};TDV['Tour']['Script']['cloneBindings']=function(gf,gg,gh){var gi=gf['getBindings'](gh);for(var gj=0x0;gj<gi['length'];++gj){var gk=gi[gj];if(typeof gk=='string')gk=new Function('event',gk);gg['bind'](gh,gk,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(gl){var gm=this['clone'](gl,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gn=['initialSequence','idleSequence'];for(var go=0x0;go<gn['length'];++go){var gp=gn[go];var gq=gl['get'](gp);if(gq){var gr=this['clone'](gq,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gm['set'](gp,gr);var gs=gq['get']('movements');var gt=[];var gu=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gv=0x0;gv<gs['length'];++gv){var gw=gs[gv];var gx=this['clone'](gw,gu);var gy=gw['getBindings']('end');if(gy['length']>0x0){for(var gz=0x0;gz<gy['length'];++gz){var gA=gy[gz];if(typeof gA=='string'){gA=gA['replace'](gl['get']('id'),gm['get']('id'));gA=new Function('event',gA);gx['bind']('end',gA,this);}}}gt['push'](gx);}gr['set']('movements',gt);}}return gm;};TDV['Tour']['Script']['copyObjRecursively']=function(gB){var gC={};for(var gD in gB){var gE=gB[gD];if(typeof gE=='object'&&gE!==null)gC[gD]=this['copyObjRecursively'](gB[gD]);else gC[gD]=gE;}return gC;};TDV['Tour']['Script']['copyToClipboard']=function(gF){if(navigator['clipboard']){navigator['clipboard']['writeText'](gF);}else{var gG=document['createElement']('textarea');gG['value']=gF;gG['style']['position']='fixed';document['body']['appendChild'](gG);gG['focus']();gG['select']();try{document['execCommand']('copy');}catch(gH){}document['body']['removeChild'](gG);}};TDV['Tour']['Script']['createTween']=function(gI,gJ,gK,gL,gM){var gN=this['rootPlayer']['createInstance']('Effect');var gO=this['get']('data')['tweensState'];if(!gO){this['get']('data')['tweensState']=gO={};}var gP='get'in gI&&typeof gI['get']==='function';var gQ=(gP&&gI['get']('id')?gI['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gR={};for(var gS in gJ){var gT=gJ[gS];if(gS['startsWith']('on')&&(typeof gT==='function'||typeof gT==='string')){var gU=gS['slice'](0x2);if(typeof gT==='string')gT=eval('('+gT+')');gN['bind'](gU['charAt'](0x0)['toLowerCase']()+gU['slice'](0x1),gT,this);}else if(typeof gT==='string'&&gT['startsWith']('#')){var gV=parseInt('0x'+(gP?gI['get'](gS)['slice'](0x1):gI[gS]['slice'](0x1)));var gW=parseInt('0x'+gT['slice'](0x1));gR[gS]={'color':!![],'initialRGB':[gV>>0x10&0xff,gV>>0x8&0xff,gV&0xff],'finalRGB':[gW>>0x10&0xff,gW>>0x8&0xff,gW&0xff]};gO[gQ+gS]=gN;}else{gR[gS]=gP?gI['get'](gS):gI[gS];gO[gQ+gS]=gN;}}gN['set']('duration',(gK||0x0)*0x3e8);gN['set']('easing',gL||'cubic_in_out');gN['set']('animationDirection',gM||'normal');gN['bind']('end',function(){for(var gX in gR){if(gO[gQ+gX]==gN)delete gO[gQ+gX];}this['disposeInstance'](gN);},this);gN['bind']('frame',function(){var gY=gN['getPosition']();for(var gZ in gR){var h0=gR[gZ];if(gO[gQ+gZ]!=gN)continue;if(typeof h0==='object'&&'color'in h0){var h1=Math['round'](h0['initialRGB'][0x0]+(h0['finalRGB'][0x0]-h0['initialRGB'][0x0])*gY);var h2=Math['round'](h0['initialRGB'][0x1]+(h0['finalRGB'][0x1]-h0['initialRGB'][0x1])*gY);var h3=Math['round'](h0['initialRGB'][0x2]+(h0['finalRGB'][0x2]-h0['initialRGB'][0x2])*gY);h0='#'+((0x1<<0x18)+(h1<<0x10)+(h2<<0x8)+h3)['toString'](0x10)['slice'](0x1);}else{h0=h0+(gJ[gZ]-h0)*gY;}if(gP)gI['set'](gZ,h0);else gI[gZ]=h0;}},this);return gN;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h4,h5,h6,h7){var h8=undefined;var h9=function(hd){if(hd['data']['previousSelectedIndex']==h5){if(h7)h7['call'](this);if(h6&&h8)h8['unbind']('end',h6,this);h4['unbind']('change',h9,this);}};if(h6){var ha=h4['get']('items')[h5];var hb=ha['get']('class');if(hb=='PanoramaPlayListItem'||hb=='Model3DPlayListItem'){var hc=ha['get']('camera');if(hc!=undefined){h8=hc['get']('initialSequence');if(h8==undefined)h8=hc['get']('idleSequence');}}else{h8=ha['get']('media');}if(h8){h8['bind']('end',h6,this);}}h4['bind']('change',h9,this);};TDV['Tour']['Script']['executeJS']=function(he){try{eval(he);}catch(hf){console['log']('Javascript\x20error:\x20'+hf);console['log']('\x20\x20\x20code:\x20'+he);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hg){var hh=hg['get']('buttonPlayPause');if(typeof hh!=='undefined'&&hg['get']('state')=='playing'){if(!Array['isArray'](hh))hh=[hh];for(var hi=0x0;hi<hh['length'];++hi)hh[hi]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hj){var hk=this['getActivePlayerWithViewer'](hj);if(hk==undefined){return undefined;}return this['getMediaFromPlayer'](hk);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(hl){var hm=this['getActivePlayersWithViewer'](hl);return hm['length']>0x0?hm[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hn){var ho=this['getCurrentPlayers']();var hp=ho['length'];var hq=[];while(hp-->0x0){var hr=ho[hp];if(hr['get']('viewerArea')==hn){var hs=hr['get']('class');if(hs=='PanoramaPlayer'&&(hr['get']('panorama')!=undefined||hr['get']('video')!=undefined)||(hs=='VideoPlayer'||hs=='Video360Player')&&hr['get']('video')!=undefined||hs=='PhotoAlbumPlayer'&&hr['get']('photoAlbum')!=undefined||hs=='MapPlayer'&&hr['get']('map')!=undefined||hs=='Model3DPlayer'&&hr['get']('model')!=undefined)hq['push'](hr);}}return hq;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(ht){var hu=undefined;var hv=undefined;switch(ht['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hu='PanoramaPlayer';hv='panorama';break;case'Video360':hu='PanoramaPlayer';hv='video';break;case'PhotoAlbum':hu='PhotoAlbumPlayer';hv='photoAlbum';break;case'Map':hu='MapPlayer';hv='map';break;case'Video':hu='VideoPlayer';hv='video';break;case'Model3D':hu='Model3DPlayer';hv='media';break;}if(hu!=undefined){var hw=this['getByClassName'](hu);for(var hx=0x0;hx<hw['length'];++hx){var hy=hw[hx];if(hy['get'](hv)==ht){return hy;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hz=this['getByClassName']('PanoramaPlayer');hz=hz['concat'](this['getByClassName']('VideoPlayer'));hz=hz['concat'](this['getByClassName']('Video360Player'));hz=hz['concat'](this['getByClassName']('PhotoAlbumPlayer'));hz=hz['concat'](this['getByClassName']('MapPlayer'));hz=hz['concat'](this['getByClassName']('Model3DPlayer'));return hz;};TDV['Tour']['Script']['getGlobalAudio']=function(hA){var hB=window['currentGlobalAudios'];if(hB!=undefined&&hA['get']('id')in hB){hA=hB[hA['get']('id')]['audio'];}return hA;};TDV['Tour']['Script']['getMediaByName']=function(hC){var hD=this['getByClassName']('Media');for(var hE=0x0,hF=hD['length'];hE<hF;++hE){var hG=hD[hE];var hH=hG['get']('data');if(hH&&hH['label']==hC){return hG;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hI,hJ){return this['_getObjectsByTags'](hI,['Media'],'tags2Media',hJ);};TDV['Tour']['Script']['getAudioByTags']=function(hK,hL){return this['_getObjectsByTags'](hK,['Audio'],'tags2Media',hL);};TDV['Tour']['Script']['getOverlaysByTags']=function(hM,hN){return this['_getObjectsByTags'](hM,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hN);};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hO){var hP=this['get']('data');var hQ='groupname2Overlays';var hR=hP[hQ];if(!hR){var hS=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hP[hQ]=hR={};for(var hT=0x0;hT<hS['length'];++hT){var hU=hS[hT];var hV=this['getByClassName'](hU);for(var hW=0x0,hX=hV['length'];hW<hX;++hW){var hY=hV[hW];var hZ=hY['get']('data');if(hZ&&hZ['group']){var i0=hR[hZ['group']];if(!i0)hR[hZ['group']]=i0=[];i0['push'](hY);}}}}return hR[hO]||[];};TDV['Tour']['Script']['getRootOverlay']=function(i1){var i2=i1['get']('class');var i3=i2['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var i4=i2['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(i3||i4){var i5=this['get']('data');var i6='overlays';var i7=i5[i6];if(!i7){var i8=['HotspotPanoramaOverlay'];i7=[];for(var i9=0x0;i9<i8['length'];++i9){var ia=i8[i9];i7=i7['concat'](this['getByClassName'](ia));}i5[i6]=i7;}var ib=i3?'areas':'items';for(var ic=0x0,ie=i7['length'];ic<ie;++ic){var ig=i7[ic];var ih=ig['get'](ib);if(ih){for(var ii=0x0;ii<ih['length'];++ii){if(ih[ii]==i1)return ig;}}}}return i1;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(ij){var ik=this['getOverlaysByGroupname'](ij);if(ik['length']>0x1){ik['sort'](function(is,it){var iu=is['get']('data')['groupIndex'];var iv=it['get']('data')['groupIndex'];return iu-iv;});for(var il=0x0,im=ik['length'];il<im;++il){var io=ik[il];var ip=ik[(il+0x1)%im];var iq=io['get']('class');var ir=io;if(iq=='HotspotPanoramaOverlay'){ir=io['get']('areas')[0x0];}ir['bind']('click',function(iw,ix){this['setOverlaysVisibility']([iw],![]);this['setOverlaysVisibility']([ix],!![]);}['bind'](this,io,ip),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iy,iz){return this['_getObjectsByTags'](iy,['UIComponent'],'tags2Components',iz);};TDV['Tour']['Script']['_getObjectsByTags']=function(iA,iB,iC,iD){var iE=this['get']('data');var iF=iE[iC];if(!iF){iE[iC]=iF={};for(var iG=0x0;iG<iB['length'];++iG){var iH=iB[iG];var iI=this['getByClassName'](iH);for(var iK=0x0,iM=iI['length'];iK<iM;++iK){var iO=iI[iK];var iP=iO['get']('data');if(iP&&iP['tags']){var iQ=iP['tags'];for(var iT=0x0,iU=iQ['length'];iT<iU;++iT){var iV=iQ[iT];if(iV in iF)iF[iV]['push'](iO);else iF[iV]=[iO];}}}}}var iW=undefined;iD=iD||'and';for(var iK=0x0,iM=iA['length'];iK<iM;++iK){var iX=iF[iA[iK]];if(!iX)continue;if(!iW)iW=iX['concat']();else{if(iD=='and'){for(var iT=iW['length']-0x1;iT>=0x0;--iT){if(iX['indexOf'](iW[iT])==-0x1)iW['splice'](iT,0x1);}}else if(iD=='or'){for(var iT=iX['length']-0x1;iT>=0x0;--iT){var iO=iX[iT];if(iW['indexOf'](iO)==-0x1)iW['push'](iO);}}}}return iW||[];};TDV['Tour']['Script']['getComponentByName']=function(iY){var iZ=this['getByClassName']('UIComponent');for(var j0=0x0,j1=iZ['length'];j0<j1;++j0){var j2=iZ[j0];var j3=j2['get']('data');if(j3!=undefined&&j3['name']==iY){return j2;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var j4='MainViewer';return this[j4]||this[j4+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(j5){switch(j5['get']('class')){case'PanoramaPlayer':return j5['get']('panorama')||j5['get']('video');case'VideoPlayer':case'Video360Player':return j5['get']('video');case'PhotoAlbumPlayer':return j5['get']('photoAlbum');case'MapPlayer':return j5['get']('map');case'Model3DPlayer':return j5['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(j6){switch(j6['get']('class')){case'Video360':var j7=j6['get']('video');if(j7 instanceof Array){var j8=0x0;for(var j9=0x0;j9<j7['length'];j9++){var ja=j7[j9];if(ja['get']('width')>j8)j8=ja['get']('width');}return j8;}else{return ja['get']('width');}default:return j6['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jb){switch(jb['get']('class')){case'Video360':var jc=jb['get']('video');if(jc instanceof Array){var jd=0x0;for(var je=0x0;je<jc['length'];je++){var jf=jc[je];if(jf['get']('height')>jd)jd=jf['get']('height');}return jd;}else{return jf['get']('height');}default:return jb['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jg){switch(jg['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jh=jg['get']('overlays')['concat']()||[];var ji=jg['get']('frames');for(var jj=0x0;jj<ji['length'];++jj){jh=jh['concat'](ji[jj]['get']('overlays')||[]);}return jh;case'Video360':case'Map':return jg['get']('overlays')||[];case'Model3D':return jg['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jk,jl){var jm=this['getOverlays'](jk);for(var jn=0x0,jo=jm['length'];jn<jo;++jn){var jp=jm[jn];var jq=jp['get']('data');if(jq!=undefined&&jq['label']==jl){return jp;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jr,js,jt){var ju=[];var jv=this['getOverlays'](jr);var jw=this['getOverlaysByTags'](js,jt);for(var jx=0x0,jy=jv['length'];jx<jy;++jx){var jz=jv[jx];if(jw['indexOf'](jz)!=-0x1)ju['push'](jz);}return ju;};TDV['Tour']['Script']['getPixels']=function(jA){var jB=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jA);if(jB==undefined){return 0x0;}var jC=parseFloat(jB[0x1]);var jD=jB[0x4];var jE=this['rootPlayer']['get']('actualWidth')/0x64;var jF=this['rootPlayer']['get']('actualHeight')/0x64;switch(jD){case'vw':return jC*jE;case'vh':return jC*jF;case'vmin':return jC*Math['min'](jE,jF);case'vmax':return jC*Math['max'](jE,jF);default:return jC;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jG,jH){var jI=[];var jJ=this['getByClassName']('PlayList');for(var jK=0x0,jL=jJ['length'];jK<jL;++jK){var jM=jJ[jK];if(jH&&jM['get']('selectedIndex')==-0x1)continue;var jN=this['getPlayListItemByMedia'](jM,jG);if(jN!=undefined&&jN['get']('player')!=undefined)jI['push'](jM);}return jI;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jO){var jP=this['getByClassName']('PlayList');var jQ=function(jS){var jT=jS['get']('items');for(var jU=jT['length']-0x1;jU>=0x0;--jU){var jV=jT[jU];var jW=jV['get']('player');if(jW!==undefined&&jW['get']('viewerArea')==jO)return!![];}return![];};for(var jR=jP['length']-0x1;jR>=0x0;--jR){if(!jQ(jP[jR]))jP['splice'](jR,0x1);}return jP;};TDV['Tour']['Script']['getPlayListWithItem']=function(jX){var jY=this['getByClassName']('PlayList');for(var jZ=jY['length']-0x1;jZ>=0x0;--jZ){var k0=jY[jZ];var k1=k0['get']('items');for(var k2=k1['length']-0x1;k2>=0x0;--k2){var k3=k1[k2];if(k3==jX)return k0;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(k4,k5){var k6=this['getPlayListsWithMedia'](k4,k5);return k6['length']>0x0?k6[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(k7,k8){var k9=k7['get']('items');for(var ka=0x0,kb=k9['length'];ka<kb;++ka){var kc=k9[ka];if(kc['get']('media')==k8)return kc;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(kd,ke){var kf=this['getPlayListItemByMedia'](kd,ke);return kf?kd['get']('items')['indexOf'](kf):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kg,kh){var ki=function(){switch(kg['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(ki!=undefined){var kj=this['getByClassName'](ki);for(var kk=kj['length']-0x1;kk>=0x0;--kk){var kl=kj[kk];if(kl['get']('media')!=kg||kh!=undefined&&kl['get']('player')!=kh){kj['splice'](kk,0x1);}}return kj;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(km){var kn=this['get']('data')['history'][km['get']('id')];if(kn!=undefined){kn['back']();}};TDV['Tour']['Script']['historyGoForward']=function(ko){var kp=this['get']('data')['history'][ko['get']('id')];if(kp!=undefined){kp['forward']();}};TDV['Tour']['Script']['init']=function(){var kq=this['get']('data')['history'];var kr=function(kA){var kB=kA['source'];var kC=kB['get']('selectedIndex');if(kC<0x0)return;var kD=kB['get']('id');if(!kq['hasOwnProperty'](kD))kq[kD]=new TDV['Tour']['HistoryData'](kB);kq[kD]['add'](kC);};var ks=this['getByClassName']('PlayList');for(var ku=0x0,kv=ks['length'];ku<kv;++ku){var kw=ks[ku];kw['bind']('change',kr,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kx=this['getByClassName']('ThumbnailList');kx=kx['concat'](this['getByClassName']('ThumbnailGrid'));kx=kx['concat'](this['getByClassName']('DropDown'));function kE(kF){var kG=kF['source']['get']('playList');var kH=kG['get']('selectedIndex');if(kH>=0x0){this['skip3DTransitionOnce'](kG['get']('items')[kH]['get']('player'));}}for(var ku=0x0,ky=kx['length'];ku<ky;++ku){var kz=kx[ku];kz['bind']('change',kE,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kI,kJ,kK){if(window['dataLayer']){window['dataLayer']['push']({'event':kJ,'label':kK,'category':kI});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kI,kJ,kK);}if(window['gtag']){window['gtag']('event',kJ,{'category':kI,'label':kK});}};TDV['Tour']['Script']['initAnalytics']=function(){var kM=this['getByClassName']('Panorama');kM=kM['concat'](this['getByClassName']('Video360'));kM=kM['concat'](this['getByClassName']('Map'));kM=kM['concat'](this['getByClassName']('Model3D'));for(var kP=0x0,kS=kM['length'];kP<kS;++kP){var kT=kM[kP];var kV=kT['get']('data');var kW=kV?kV['label']:'';var kX=this['getOverlays'](kT);for(var kY=0x0,kZ=kX['length'];kY<kZ;++kY){var l0=kX[kY];var l1=l0['get']('data')!=undefined?kW+'\x20-\x20'+l0['get']('data')['label']:kW;switch(l0['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var l2=l0['get']('areas');for(var l3=0x0;l3<l2['length'];++l3){l2[l3]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l1),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':l0['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',l1),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':l0['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l1),this,![]);l0['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',l1),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':l0['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l1),this,![]);break;}}}var l4=this['getByClassName']('UIComponent');for(var kP=0x0,kS=l4['length'];kP<kS;++kP){var l5=l4[kP];var l6=l5['getBindings']('click');if(l6['length']>0x0){var l7=l5['get']('data')['name'];l5['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',l7),this,![]);}}var l8=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var l9={};for(var kP=0x0,kS=l8['length'];kP<kS;++kP){var la=l8[kP];var kM=la['get']('media');if(!(kM['get']('id')in l9)){var kV=kM['get']('data');la['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',kV?kV['label']:undefined),this,![]);l9[kM['get']('id')]=la;}}if(TDV['Remote']!=undefined){var lb=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(lc){lb=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+lc);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(ld){var le=new Date();le['setTime'](Date['now']()-lb);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+ld+'\x20Duration:\x20'+le['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lf,lg,lh){var li={"timeout":{"window":{"shadowOpacity":0.3,"paddingRight":80,"shadowVerticalLength":0,"shadowSpread":4,"shadowHorizontalLength":0,"shadowColor":"#000000","backgroundColor":"#ffffff","paddingTop":45,"gap":15,"shadow":true,"paddingLeft":80,"horizontalAlign":"center","shadowBlurRadius":4,"paddingBottom":55,"title":{"fontFamily":"Arial","fontColor":"#000000","paddingBottom":20,"fontSize":40,"textAlign":"center","fontWeight":"bold"},"buttonsContainer":{"horizontalAlign":"center","width":"100%","gap":10},"icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"button":{"paddingRight":25,"paddingLeft":25,"fontFamily":"Arial","fontColor":"#ffffff","paddingBottom":12,"fontSize":15,"backgroundColor":"#009fe3","verticalAlign":"middle","horizontalAlign":"center","fontWeight":"bold","paddingTop":12}},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"score":{"window":{"shadowOpacity":0.3,"timeContainer":{"paddingRight":100,"paddingLeft":100,"paddingTop":10,"width":"100%","paddingBottom":15,"verticalAlign":"middle","horizontalAlign":"center","gap":5},"paddingRight":20,"shadowVerticalLength":0,"minWidth":500,"shadowHorizontalLength":0,"description":{"paddingRight":100,"paddingLeft":100,"fontFamily":"Arial","fontColor":"#000000","paddingBottom":15,"fontSize":16,"textAlign":"center","paddingTop":15,"fontWeight":"normal"},"stats":{"minWidth":150,"height":150,"verticalAlign":"middle","borderRadius":75,"horizontalAlign":"center","gap":0,"borderColor":"#009fe3","mainValue":{"fontSize":40,"fontFamily":"Arial","fontColor":"#000000","fontWeight":"bold"},"label":{"fontSize":15,"fontFamily":"Arial","fontColor":"#000000","fontWeight":"normal"},"layout":"vertical","title":{"paddingRight":5,"paddingLeft":5,"fontFamily":"Arial","fontColor":"#000000","fontSize":20,"paddingTop":10,"fontWeight":"normal"},"secondaryValue":{"fontSize":20,"fontFamily":"Arial","fontColor":"#000000","fontWeight":"bold"},"borderSize":1},"statsContainer":{"paddingRight":100,"paddingLeft":100,"paddingTop":15,"paddingBottom":15,"contentOpaque":true,"verticalAlign":"middle","horizontalAlign":"center","overflow":"scroll","gap":20},"shadowColor":"#000000","backgroundColor":"#ffffff","shadowSpread":4,"paddingTop":20,"maxWidth":1500,"shadow":true,"paddingLeft":20,"horizontalAlign":"center","shadowBlurRadius":4,"paddingBottom":20,"title":{"fontFamily":"Arial","fontColor":"#000000","paddingBottom":15,"fontSize":50,"textAlign":"center","paddingTop":50,"fontWeight":"bold"},"calification":{"width":"100%","paddingRight":100,"paddingLeft":100,"fontFamily":"Arial","fontColor":"#009fe3","paddingBottom":10,"fontSize":30,"verticalAlign":"middle","textAlign":"center","paddingTop":15,"fontWeight":"bold"},"buttonsContainer":{"button":{"paddingRight":25,"paddingLeft":25,"fontFamily":"Arial","fontColor":"#ffffff","paddingBottom":12,"fontSize":15,"backgroundColor":"#009fe3","verticalAlign":"middle","horizontalAlign":"center","fontWeight":"bold","paddingTop":12},"paddingRight":100,"paddingLeft":100,"horizontalAlign":"center","width":"100%","paddingBottom":50,"verticalAlign":"middle","paddingTop":35,"gap":8},"content":{"width":"100%","horizontalAlign":"center"},"closeButton":{"height":45,"iconHeight":18,"width":45,"backgroundColor":"#009fe3","iconWidth":18,"iconColor":"#ffffff","iconLineWidth":2}},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"question":{"window":{"shadowVerticalLength":0,"shadowSpread":4,"shadowHorizontalLength":0,"backgroundOpacity":1,"shadowColor":"#000000","horizontalAlign":"center","option":{"gap":10,"label":{"correct":{"width":38,"fontWeight":"bold","fontSize":18,"height":38,"verticalAlign":"middle","borderRadius":19,"fontFamily":"Arial","pressedBackgroundOpacity":1,"horizontalAlign":"center","fontColor":"#ffffff","backgroundColor":"#39b54a","backgroundOpacity":1},"incorrect":{"width":38,"fontWeight":"bold","fontSize":18,"height":38,"verticalAlign":"middle","borderRadius":19,"fontFamily":"Arial","pressedBackgroundOpacity":1,"horizontalAlign":"center","fontColor":"#ffffff","backgroundColor":"#ed1c24","backgroundOpacity":1},"width":38,"fontWeight":"bold","fontSize":18,"height":38,"verticalAlign":"middle","borderRadius":19,"fontFamily":"Arial","pressedBackgroundOpacity":1,"horizontalAlign":"center","fontColor":"#ffffff","backgroundColor":"#000000","backgroundOpacity":0.2},"text":{"selected":{"fontSize":18,"paddingTop":9,"textAlign":"left","fontFamily":"Arial","fontColor":"#000000"},"fontFamily":"Arial","fontColor":"#404040","fontSize":18,"verticalAlign":"middle","textAlign":"left","paddingTop":9}},"paddingLeft":20,"paddingTop":20,"paddingBottom":20,"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"paddingRight":25,"fontFamily":"Arial","fontWeight":"bold","fontSize":18,"backgroundColor":"#000000","verticalAlign":"middle","borderRadius":3,"paddingTop":10,"paddingLeft":25,"horizontalAlign":"center","fontColor":"#ffffff","paddingBottom":10,"backgroundOpacity":0.7}},"shadowOpacity":0.3,"paddingRight":20,"minWidth":500,"width":"60%","backgroundColor":"#ffffff","borderRadius":5,"mediaContainer":{"buttonNext":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","height":37,"width":25},"height":"100%","buttonPrevious":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","height":37,"width":25},"width":"70%","viewerArea":{"playbackBarBorderRadius":0,"playbackBarHeadShadowColor":"#000000","playbackBarHeadOpacity":1,"playbackBarHeadShadowOpacity":0.3,"playbackBarHeadShadowVerticalLength":0,"playbackBarBackgroundOpacity":0.5,"playbackBarBottom":5,"playbackBarProgressBackgroundColor":"#3399ff","playbackBarHeadWidth":14,"playbackBarHeadBorderRadius":7,"playbackBarHeadShadowHorizontalLength":0,"playbackBarProgressOpacity":0.5,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarRight":0,"playbackBarHeadBorderColor":"#ffffff","backgroundColor":"#e6e6e6","playbackBarLeft":0,"playbackBarHeadShadowSpread":2,"playbackBarBackgroundColor":"#000000","playbackBarBorderSize":0,"playbackBarHeadBorderSize":3,"playbackBarHeight":6,"playbackBarHeadHeight":14,"playbackBarHeadShadow":true,"playbackBarHeadShadowBlurRadius":2,"backgroundOpacity":1}},"shadow":true,"height":"60%","bodyContainer":{"paddingRight":30,"paddingLeft":30,"width":"100%","layout":"horizontal","paddingBottom":30,"height":"100%","gap":35},"shadowBlurRadius":4,"title":{"paddingRight":50,"paddingLeft":50,"fontFamily":"Arial","fontColor":"#000000","paddingBottom":40,"fontSize":20,"textAlign":"center","paddingTop":25,"fontWeight":"bold"},"optionsContainer":{"height":"100%","contentOpaque":true,"width":"30%","overflow":"scroll","gap":10},"closeButton":{"height":45,"iconHeight":18,"width":45,"backgroundColor":"#009FE3","iconWidth":18,"iconColor":"#FFFFFF","iconLineWidth":2}},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}}};var lj=this['get']('data');var lk=lj['createQuizConfig']['call'](this);lv['call'](this,lk);lk['playList']=lf;lk['player']=this;lk['theme']='theme'in lk?this['mixObject'](li,lk['theme']):li;if(lk['questions']){lu['call'](this,lk['questions']);for(var ll=0x0;ll<lk['questions']['length'];++ll){var lm=lk['questions'][ll];lu['call'](this,lm['options']);}}if(lk['objectives']){lu['call'](this,lk['objectives']);}if(lk['califications']){lu['call'](this,lk['califications']);}if(lk['score']){this[lk['score']['id']]=lk['score'];}if(lk['question']){this[lk['question']['id']]=lk['question'];}if(lk['timeout']){this[lk['timeout']['id']]=lk['timeout'];}var ln=lk['data']&&lk['data']['titlesScale']?lk['data']['titlesScale']:0x1;var lo=lk['data']&&lk['data']['bodyScale']?lk['data']['bodyScale']:0x1;if(this['get']('isMobile')){var lp=this['mixObject'](lk['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*lo,'paddingLeft':0xa,'paddingRight':0xa}}}});lk['theme']=lp;}var lq=document['getElementById']('metaViewport');var lr=lq?/initial-scale=(\d+(\.\d+)?)/['exec'](lq['getAttribute']('content')):undefined;var ls=lr?lr[0x1]:0x1;lj['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/ls,'maxHeight':0x258/ls,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lj['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*ln,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lt=new TDV['Quiz'](lk);lt['setMaxListeners'](0x32);if(lh===!![]){lt['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lt['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lt['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lt['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lt['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)lt['finish']();}['bind'](this));}if(lg===!![]){lt['start']();}lj['quiz']=lt;lj['quizConfig']=lk;function lu(lw){for(var lx=0x0;lx<lw['length'];++lx){var ly=lw[lx];if('id'in ly)this[ly['id']]=ly;}}function lv(lz){for(var lA in lz){var lB=lz[lA];if(typeof lB=='object'&&lB!==null)lv['call'](this,lB);else if(typeof lB=='string'&&lB['startsWith']('this.'))lz[lA]=_getObject(this,lB);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lC){var lD=this['get']('data')['quiz'];var lE=this['get']('data')['quizConfig'];var lF=lE['objectives'];var lG=0x0;for(var lH=0x0,lI=lF['length'];lH<lI;++lH){var lJ=lF[lH];lG+=lD['getObjective'](lJ['id'],lC);}return lG;};TDV['Tour']['Script']['_initSplitViewer']=function(lK){function lL(){var m6=lK['get']('actualWidth');lW['get']('children')[0x0]['set']('width',m6);lX['get']('children')[0x0]['set']('width',m6);var m7=m0['get']('left');var m8=typeof m7=='string'?lM(m7):m7;m8+=m0['get']('actualWidth')*0.5;lW['set']('width',lN(m8));lX['set']('width',lN(m6-m8));}function lM(m9){return parseFloat(m9['replace']('%',''))/0x64*lK['get']('actualWidth');}function lN(ma){return ma/lK['get']('actualWidth')*0x64+'%';}function lO(mb){lP(mb['source']);}function lP(mc){var md=mc==m2?m1:m2;if(m3&&mc!=m3||!mc||!md)return;var me=md['get']('camera')['get']('initialPosition')['get']('yaw')-mc['get']('camera')['get']('initialPosition')['get']('yaw');md['setPosition'](mc['get']('yaw')+me,mc['get']('pitch'),mc['get']('roll'),mc['get']('hfov'));}function lQ(mf){m3=mf['source'];}function lR(mg){lS(mg['source']);}function lS(mh){var mi=mh['get']('viewerArea');if(mi==lY){if(m1){m1['get']('camera')['set']('hoverFactor',m4);}m1=mh;m3=m1;if(m1){m4=m1['get']('camera')['get']('hoverFactor');m1['get']('camera')['set']('hoverFactor',0x0);}}else if(mi==lZ){if(m2){m2['get']('camera')['set']('hoverFactor',m5);}m2=mh;m3=m1;if(m2){m5=m2['get']('camera')['get']('hoverFactor');m2['get']('camera')['set']('hoverFactor',0x0);}}lP(mh);}function lT(mj){var mk=this['getCurrentPlayers']();var ml=mk['length'];while(ml-->0x0){var mn=mk[ml];if(mn['get']('viewerArea')!=mj){mk['splice'](ml,0x1);}}for(ml=0x0;ml<mk['length'];++ml){var mn=mk[ml];mn['bind']('preloadMediaShow',lR,this);mn['bind']('cameraPositionChange',lO,this);mn['bind']('userInteractionStart',lQ,this);if(mn['get']('panorama'))lS(mn);}return mk;}function lU(mo){lS(this['getActivePlayerWithViewer'](mo['source']));lP(m3);}var lV=lK['get']('children');var lW=lV[0x0];var lX=lV[0x1];var lY=lW['get']('children')[0x0];var lZ=lX['get']('children')[0x0];var m0=lV[0x2];var m1,m2,m3;var m4,m5;lT['call'](this,lY);lT['call'](this,lZ);lY['bind']('mouseDown',lU,this);lZ['bind']('mouseDown',lU,this);lK['bind']('resize',function(){m0['set']('left',(lK['get']('actualWidth')-m0['get']('actualWidth'))*0.5);lL();},this);m0['bind']('mouseDown',function(mp){var mq=mp['pageX'];var mr=function(ms){var mt=ms['pageX'];var mu=mq-mt;var mv=lK['get']('actualWidth');var mw=m0['get']('left');var mx=(typeof mw=='string'?lM(mw):mw)-mu;if(mx<0x0){mt-=mx;mx=0x0;}else if(mx+m0['get']('actualWidth')>=mv){mt-=mx-(mv-m0['get']('actualWidth'));mx=mv-m0['get']('actualWidth');}m0['set']('left',mx);lL();mq=mt;};this['bind']('mouseMove',mr,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mr,this);},this);},this);lL();};TDV['Tour']['Script']['_initTwinsViewer']=function(my){function mz(){var mU=my['get']('actualWidth');mK['get']('children')[0x0]['set']('width',mU);mL['get']('children')[0x0]['set']('width',mU);var mV=mO['get']('left');var mW=typeof mV=='string'?mA(mV):mV;mW+=mO['get']('actualWidth')*0.5;mK['set']('width',mB(mW));mL['set']('width',mB(mU-mW));}function mA(mX){return parseFloat(mX['replace']('%',''))/0x64*my['get']('actualWidth');}function mB(mY){return mY/my['get']('actualWidth')*0x64+'%';}function mC(mZ){mD(mZ['source']);}function mD(n0){var n1=n0==mQ?mP:mQ;if(mR&&n0!=mR||!n0||!n1)return;var n2=n1['get']('camera')['get']('initialPosition')['get']('yaw')-n0['get']('camera')['get']('initialPosition')['get']('yaw');n1['setPosition'](n0['get']('yaw')+n2,n0['get']('pitch'),n0['get']('roll'),n0['get']('hfov'));}function mE(n3){mR=n3['source'];}function mF(n4){mG(n4['source']);}function mG(n5){var n6=n5['get']('viewerArea');if(n6==mM){if(mP){mP['get']('camera')['set']('hoverFactor',mS);}mP=n5;mR=mP;if(mP){mS=mP['get']('camera')['get']('hoverFactor');mP['get']('camera')['set']('hoverFactor',0x0);}}else if(n6==mN){if(mQ){mQ['get']('camera')['set']('hoverFactor',mT);}mQ=n5;mR=mP;if(mQ){mT=mQ['get']('camera')['get']('hoverFactor');mQ['get']('camera')['set']('hoverFactor',0x0);}}mD(n5);}function mH(n7){var n8=this['getCurrentPlayers']();var n9=n8['length'];while(n9-->0x0){var nb=n8[n9];if(nb['get']('viewerArea')!=n7){n8['splice'](n9,0x1);}}for(n9=0x0;n9<n8['length'];++n9){var nb=n8[n9];nb['bind']('preloadMediaShow',mF,this);nb['bind']('cameraPositionChange',mC,this);nb['bind']('userInteractionStart',mE,this);if(nb['get']('panorama'))mG(nb);}return n8;}function mI(nc){mG(this['getActivePlayerWithViewer'](nc['source']));mD(mR);}var mJ=my['get']('children');var mK=mJ[0x0];var mL=mJ[0x1];var mM=mK['get']('children')[0x0];var mN=mL['get']('children')[0x0];var mO=mJ[0x2];var mP,mQ,mR;var mS,mT;mH['call'](this,mM);mH['call'](this,mN);mM['bind']('mouseDown',mI,this);mN['bind']('mouseDown',mI,this);my['bind']('resize',function(){mO['set']('left',(my['get']('actualWidth')-mO['get']('actualWidth'))*0.5);mz();},this);mz();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nd=this['getByClassName']('PanoramaPlayer');return nd['length']>0x0&&nd[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(ne){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](ne['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nf,ng){var nh='keepVisibility_'+nf['get']('id');var ni=this['getKey'](nh);if(ni==undefined&&ng){this['registerKey'](nh,ng);}else if(ni!=undefined&&!ng){this['unregisterKey'](nh);}};TDV['Tour']['Script']['_initItemWithComps']=function(nj,nk,nl,nm,nn,no,np,nq){var nr=nj['get']('items')[nk];var ns=nr['get']('media');var nt=ns['get']('loop')==undefined||ns['get']('loop');var nu=nq>0x0;var nv=this['rootPlayer'];var nw=function(nE){var nF=no?no['get']('class'):undefined;var nG=undefined;switch(nF){case'FadeInEffect':case'FadeOutEffect':nG=nv['createInstance'](nE?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':nG=nv['createInstance'](nE?'SlideInEffect':'SlideOutEffect');break;}if(nG){nG['set']('duration',no['get']('duration'));nG['set']('easing',no['get']('easing'));if(nF['indexOf']('Slide')!=-0x1)nG['set'](nE?'from':'to',no['get'](no['get']('class')=='SlideInEffect'?'from':'to'));}return nG;};var nx=function(){for(var nH=0x0,nI=nl['length'];nH<nI;++nH){var nJ=nl[nH];if(nq>0x0){this['setComponentVisibility'](nJ,!nn,0x0,nw(!nn));}else{var nK='visibility_'+nJ['get']('id');if(this['existsKey'](nK)){if(this['getKey'](nK))this['setComponentVisibility'](nJ,!![],0x0,nw(!![]));else this['setComponentVisibility'](nJ,![],0x0,nw(![]));this['unregisterKey'](nK);}}}nr['unbind']('end',nx,this);if(!nt)ns['unbind']('end',nx,this);};var ny=function(){nr['unbind']('stop',ny,this,!![]);nr['unbind']('stop',ny,this);nr['unbind']('begin',ny,this,!![]);nr['unbind']('begin',ny,this);for(var nL=0x0,nM=nl['length'];nL<nM;++nL){this['keepCompVisible'](nl[nL],![]);}};var nz=function(nN,nO,nP){var nQ=function(){var nR=function(nV,nW,nX){nv['setComponentVisibility'](nV,nW,nO,nX,nW?'showEffect':'hideEffect',![]);if(nP>0x0){var nY=nO+nP+(nX!=undefined?nX['get']('duration'):0x0);nv['setComponentVisibility'](nV,!nW,nY,nw(!nW),nW?'hideEffect':'showEffect',!![]);}};for(var nS=0x0,nT=nl['length'];nS<nT;++nS){var nU=nl[nS];if(nn=='toggle'){if(!nU['get']('visible'))nR(nU,!![],nw(!![]));else nR(nU,![],nw(![]));}else{nR(nU,nn,nw(nn));}}nr['unbind'](nN,nQ,this);if(nN=='end'&&!nt)ns['unbind'](nN,nQ,this);};nr['bind'](nN,nQ,this);if(nN=='end'&&!nt)ns['bind'](nN,nQ,this);};if(nm=='begin'){for(var nA=0x0,nB=nl['length'];nA<nB;++nA){var nC=nl[nA];this['keepCompVisible'](nC,!![]);if(nu){var nD='visibility_'+nC['get']('id');this['registerKey'](nD,nC['get']('visible'));}}nr['bind']('stop',ny,this,!![]);nr['bind']('stop',ny,this);nr['bind']('begin',ny,this,!![]);nr['bind']('begin',ny,this);if(nu){nr['bind']('end',nx,this);if(!nt)ns['bind']('end',nx,this);}}else if(nm=='end'&&nq>0x0){nz('begin',nq,0x0);nq=0x0;}if(nm!=undefined)nz(nm,np,nq);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(nZ,o0,o1){var o2=nZ['get']('selectedIndex');var o3=nZ['get']('items')['length'];var o4=(o2+o0)%o3;while(o4<0x0){o4=o3+o4;}if(o2!=o4){if(o1){var o5=nZ['get']('items')[o4];this['skip3DTransitionOnce'](o5['get']('player'));}nZ['set']('selectedIndex',o4);}};TDV['Tour']['Script']['mixObject']=function(o6,o7){return this['assignObjRecursively'](o7,this['copyObjRecursively'](o6));};TDV['Tour']['Script']['downloadFile']=function(o8){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var o9=document['createElement']('a');o9['href']=o8;o9['setAttribute']('target','_blank');if(o9['download']!==undefined){var oa=o8['substring'](o8['lastIndexOf']('/')+0x1,o8['length']);o9['download']=oa;}if(document['createEvent']){var ob=document['createEvent']('MouseEvents');ob['initEvent']('click',!![],!![]);o9['dispatchEvent'](ob);return;}}window['open'](o8,'_blank');};TDV['Tour']['Script']['openLink']=function(oc,od){if(!oc||oc==location['href']){return;}if(!od)od='_blank';if(od=='_top'||od=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var oe=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(oe&&od=='_blank'){if(oc['startsWith']('files/')){oc='/'+oc;}if(oc['startsWith']('//')){oc='https:'+oc;}else if(oc['startsWith']('/')){var of=window['location']['href']['split']('/');of['pop']();oc=of['join']('/')+oc;}var og=oc['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](og)==-0x1||oc['startsWith']('file://'))&&window['hasOwnProperty']('require')){var oh=window['require']('electron')['shell'];oh['openExternal'](oc);}else{window['open'](oc,od);}}else if(oe&&(od=='_top'||od=='_self')){window['location']=oc;}else{var oi=this['get']('data')['tour'];if(oi['isMobileApp']()&&oi['isIOS']())oc='blank:'+oc;var oj=window['open'](oc,od);oj['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(ok,ol){var om=ok['get']('media');var on=_findLocationWithPanorama['call'](this,om);if(!on){ol['call'](this);return;}var oo=on['get']('model');var op=ok['get']('player')['get']('viewerArea');var or=this['getActivePlayersWithViewer'](op);var ot=or['length']==0x1?or['find'](function(oA){return this['getMediaFromPlayer'](oA)==oo;}['bind'](this)):undefined;if(ot){ol['call'](this);}else{var or=_getPlayersWithViewer['call'](this,op);var ot=or['find'](function(oB){return oB['get']('class')=='Model3DPlayer';});var ou,ov;if(!ot){ot=this['createInstance']('Model3DPlayer');ot['set']('viewerArea',op);}else{var ow=this['getByClassName']('Model3DPlayListItem');ou=ow['find'](function(oC){return oC['get']('player')==ot;}['bind'](this));}if(!ou){ou=this['createInstance']('Model3DPlayListItem');ou['set']('player',ot);_initModel3DItem['call'](this,ou);}ou['set']('media',oo);var ox=on['get']('forceModelLoading');on['set']('forceModelLoading',!![]);var oy=function(){ou['unbind']('begin',oy,this);ol['call'](this);};var oz=function(){ok['unbind']('begin',oz,this);on['set']('forceModelLoading',ox);if(ov)this['disposeInstance'](ov);};ok['bind']('begin',oz,this);if(ou['get']('state')=='playing')oy['call'](this);else{ou['bind']('begin',oy,this);ov=this['createInstance']('PlayList');ov['set']('items',[ou]);ov['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(oD){var oE=this['getCurrentPlayers']();var oF=oE['length'];while(oF-->0x0){var oG=oE[oF];if(oG['get']('state')=='playing'||oG['get']('data')&&oG['get']('data')['playing']||oG['get']('viewerArea')&&oG['get']('viewerArea')['get']('id')==this['getMainViewer']()||oG['get']('camera')&&oG['get']('camera')['get']('idleSequence')&&oG['get']('camera')['get']('timeToIdle')>0x0&&oG['get']('state')=='playing'||oG['get']('class')=='Model3DPlayer'&&oG['get']('model')&&oG['get']('model')['get']('camera')['get']('state')=='playing'){var oH=this['getMediaFromPlayer'](oG);if(oD&&oH&&oH['get']('class')!='Video360'&&'pauseCamera'in oG){oG['pauseCamera']();}else{oG['pause']();}}else{oE['splice'](oF,0x1);}}return oE;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(oI,oJ,oK){var oL=function(){if(oI['get']('selectedIndex')!=oJ){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](oK,!![]);this['executeFunctionWhenChange'](oI,oJ,oL,oL);};TDV['Tour']['Script']['pauseGlobalAudios']=function(oM,oN){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var oO=this['getByClassName']('VideoPanoramaOverlay');oO=oO['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var oQ=oO['length']-0x1;oQ>=0x0;--oQ){var oR=oO[oQ];if(oR['get']('video')['get']('hasAudio')==![])oO['splice'](oQ,0x1);}var oS=this['getByClassName']('Audio')['concat'](oO);var oT={};if(window['currentGlobalAudios']!=undefined)oS=oS['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(oX){if(!oX['allowResume'])oT[oX['audio']['get']('id')]=oX['audio'];return oX['audio'];}));var oU=[];for(var oQ=0x0,oV=oS['length'];oQ<oV;++oQ){var oW=oS[oQ];if(oW&&oW['get']('state')=='playing'&&(oM==undefined||oM['indexOf'](oW)==-0x1)){if(oW['get']('id')in oT){oW['stop']();}else{oW['pause']();oU['push'](oW);}}}if(oN||oU['length']>0x0)window['pausedAudiosLIFO']['push'](oU);return oU;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var oY=window['pausedAudiosLIFO']['pop']();if(!oY)return;for(var oZ=0x0,p0=oY['length'];oZ<p0;++oZ){var p1=oY[oZ];if(p1['get']('state')=='paused')p1['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(p2){var p3=window['currentGlobalAudios'];if(p3){var p4=p3[p2['get']('id')];if(p4)p2=p4['audio'];}if(p2['get']('state')=='playing')p2['pause']();};TDV['Tour']['Script']['playAudioList']=function(p5,p6){if(p5['length']==0x0)return;if(p5['length']==0x1&&p6){var p7=p5[0x0];p7['set']('loop',!![]);this['playGlobalAudio'](p7,!![],null,!![]);}else{var p8=-0x1;var p9;var pa=this['playGlobalAudio'];var pb=function(){if(++p8>=p5['length']){if(!p6)return;p8=0x0;}p9=p5[p8];pa(p9,!![],pb,!![]);};pb();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pc,pd,pe,pf){var pg=this['getActiveMediaWithViewer'](this['getMainViewer']());var ph=this['getFirstPlayListWithMedia'](pg,!![]);var pi=this['getPlayListItemByMedia'](ph,pg);var pj=ph['get']('items')['indexOf'](pi);return this['playGlobalAudioWhilePlay'](ph,pj,pc,pd,pe,pf);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(pk,pl,pm,pn,po,pp){var pq=function(pz){if(pz['data']['previousSelectedIndex']==pl){this['stopGlobalAudio'](pm);if(pu){var pA=pt['get']('media');var pB=pA['get']('audios');pB['splice'](pB['indexOf'](pm),0x1);pA['set']('audios',pB);}pk['unbind']('change',pq,this);if(po)po();}};var ps=window['currentGlobalAudios'];if(ps&&pm['get']('id')in ps){pm=ps[pm['get']('id')]['audio'];if(pm['get']('state')!='playing'){pm['play']();}return pm;}pk['bind']('change',pq,this);var pt=pk['get']('items')[pl];var pu=pt['get']('class')=='PanoramaPlayListItem';if(pu){var pv=pt['get']('media');var ps=(pv['get']('audios')||[])['slice']();if(pm['get']('class')=='MediaAudio'){var pw=this['rootPlayer']['createInstance']('PanoramaAudio');pw['set']('autoplay',![]);pw['set']('audio',pm['get']('audio'));pw['set']('loop',pm['get']('loop'));pw['set']('id',pm['get']('id'));this['cloneBindings'](pm,pw,'end');this['cloneBindings'](pm,pw,'stateChange');pm=pw;}ps['push'](pm);pv['set']('audios',ps);}var px=this['playGlobalAudio'](pm,pn,function(){pk['unbind']('change',pq,this);if(po)po['call'](this);});if(pp===!![]){var py=function(){if(px['get']('state')=='playing'){this['pauseGlobalAudios']([px],!![]);}else if(px['get']('state')=='stopped'){this['resumeGlobalAudios']();px['unbind']('stateChange',py,this);}};px['bind']('stateChange',py,this);}return px;};TDV['Tour']['Script']['playGlobalAudio']=function(pC,pD,pE,pF){var pG=function(){pC['unbind']('end',pG,this);this['stopGlobalAudio'](pC);if(pE)pE['call'](this);};pC=this['getGlobalAudio'](pC);var pH=window['currentGlobalAudios'];if(!pH){pH=window['currentGlobalAudios']={};}pH[pC['get']('id')]={'audio':pC,'asBackground':pF||![],'allowResume':pD};if(pC['get']('state')=='playing'){return pC;}if(!pC['get']('loop')){pC['bind']('end',pG,this);}pC['play']();return pC;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(pI){var pJ=-0x1;this['bind']('userInteraction',pK['bind'](this),this);pK();function pK(){if(pJ!=-0x1)clearTimeout(pJ);pJ=setTimeout(function(){var pL=this['get']('data')['tour'];if(pL)pL['reload']();}['bind'](this),pI*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(pM,pN){for(var pO=0x0;pO<pM['length'];++pO){var pP=pM[pO];var pQ=this['getMediaFromPlayer'](pP);if(!pQ)continue;if(pN&&pQ['get']('class')!='Video360'&&'pauseCamera'in pP){pP['resumeCamera']();}else if(pP['get']('state')!='playing'){var pR=pP['get']('data');if(!pR){pR={};pP['set']('data',pR);}pR['playing']=!![];var pS=function(){if(pP['get']('state')=='playing'){delete pR['playing'];pP['unbind']('stateChange',pS,this);}};pP['bind']('stateChange',pS,this);pP['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(pT){var pU=window['currentGlobalAudios'];var pV=this;if(pU){Object['keys'](pU)['forEach'](function(pW){var pX=pU[pW];if(!pT||pT&&!pX['asBackground']){pV['stopGlobalAudio'](pX['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(pY){var pZ=window['currentGlobalAudios'];if(pZ){var q0=pZ[pY['get']('id')];if(q0){pY=q0['audio'];delete pZ[pY['get']('id')];if(Object['keys'](pZ)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(pY)pY['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(q1,q2){var q3=this['getCurrentPlayerWithMedia'](q2);if(q3!=undefined){var q4=q1['get']('initialPosition');q4['set']('yaw',q3['get']('yaw'));q4['set']('pitch',q3['get']('pitch'));q4['set']('hfov',q3['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(q5,q6,q7,q8,q9,qa){var qb=this['getKey']('keepVisibility_'+q5['get']('id'));if(qb)return;this['unregisterKey']('visibility_'+q5['get']('id'));var qc=function(){if(q9){q5['set'](q9,q8);}q5['set']('visible',q6);if(q5['get']('class')=='ViewerArea'){try{if(q6)q5['restart']();else if(q5['get']('playbackState')=='playing')q5['pause']();}catch(qh){};}};var qd='effectTimeout_'+q5['get']('id');if(!qa&&window['hasOwnProperty'](qd)){var qf=window[qd];if(qf instanceof Array){for(var qg=0x0;qg<qf['length'];qg++){clearTimeout(qf[qg]);}}else{clearTimeout(qf);}delete window[qd];}else if(q6==q5['get']('visible')&&!qa)return;if(q7&&q7>0x0){var qf=setTimeout(function(){if(window[qd]instanceof Array){var qi=window[qd];var qj=qi['indexOf'](qf);qi['splice'](qj,0x1);if(qi['length']==0x0){delete window[qd];}}else{delete window[qd];}qc();},q7);if(window['hasOwnProperty'](qd)){window[qd]=[window[qd],qf];}else{window[qd]=qf;}}else{qc();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(qk,ql,qm,qn){qk['set']('yaw',ql);qk['set']('pitch',qm);qk['set']('maximumAngle',qn);};TDV['Tour']['Script']['setLocale']=function(qo){this['stopTextToSpeech']();var qp=this['get']('data')['localeManager'];if(qp)this['get']('data')['localeManager']['setLocale'](qo);else{this['get']('data')['defaultLocale']=qo;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(qq,qr,qs){var qt=function(){if(qq['get']('selectedIndex')==qr){var qu=qq['get']('items')[qs];this['skip3DTransitionOnce'](qu['get']('player'));qq['set']('selectedIndex',qs);}};this['executeFunctionWhenChange'](qq,qr,qt);};TDV['Tour']['Script']['setMapLocation']=function(qv,qw){var qx=function(){qv['unbind']('stop',qx,this);qy['set']('mapPlayer',null);};qv['bind']('stop',qx,this);var qy=qv['get']('player');qy['set']('mapPlayer',qw);};TDV['Tour']['Script']['setMainMediaByIndex']=function(qz){var qA=undefined;if(qz>=0x0&&qz<this['mainPlayList']['get']('items')['length']){qA=this['mainPlayList']['get']('items')[qz];var qB=qA['get']('media');var qC=qB['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,qB):null;if(qC){this['startPanoramaWithModel']['call'](this,qA,function(){this['mainPlayList']['set']('selectedIndex',qz);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',qz);}}return qA;};TDV['Tour']['Script']['setMainMediaByName']=function(qD){var qE=this['getMainViewer']();var qF=this['_getPlayListsWithViewer'](qE);for(var qG=0x0,qH=qF['length'];qG<qH;++qG){var qI=qF[qG];var qJ=qI['get']('items');for(var qK=0x0,qL=qJ['length'];qK<qL;++qK){var qM=qJ[qK];var qN=qM['get']('media')['get']('data');if(qN!==undefined&&qN['label']==qD&&qM['get']('player')['get']('viewerArea')==qE){qI['set']('selectedIndex',qK);return qM;}}}};TDV['Tour']['Script']['executeAudioAction']=function(qO,qP,qQ,qR,qS,qT){if(qO['length']==0x0)return;var qU,qV;var qW=this['getMainViewer']();if(qQ&&!(qQ===!![])){var qX=this['getPlayListsWithMedia'](qQ);for(var qY=0x0;qY<qX['length'];++qY){var qZ=qX[qY];var r1=this['getPlayListItemByMedia'](qZ,qQ);if(r1&&r1['get']('player')&&r1['get']('player')['get']('viewerArea')==qW){qU=qZ;qV=qU['get']('items')['indexOf'](r1);break;}}if(!qU&&qX['length']>0x0){qU=qX[0x0];qV=this['getPlayListItemIndexByMedia'](qU,qQ);}if(!qU)qQ=!![];}if(qQ===!![]){var r2=this['getActiveMediaWithViewer'](qW);if(r2){qU=this['getFirstPlayListWithMedia'](r2,!![]);var r1=this['getPlayListItemByMedia'](qU,r2);qV=qU['get']('items')['indexOf'](r1);}else{qQ=null;}}var r3=[];var r4=function(){var rc=r3['concat']();var rd=![];var re=function(rh){var ri=rh['source']['get']('state');if(ri=='playing'){if(!rd){rd=!![];this['pauseGlobalAudios'](r3,!![]);}}else if(ri=='stopped'){rc['splice'](rc['indexOf'](rh['source']),0x1);if(rc['length']==0x0){this['resumeGlobalAudios']();}rh['source']['unbind']('stateChange',re,this);}}['bind'](this);for(var rf=0x0,rg=r3['length'];rf<rg;++rf){r3[rf]['bind']('stateChange',re,this);}}['bind'](this);var r5=function(){for(var rj=0x0,rk=qO['length'];rj<rk;++rj){var rl=qO[rj];r3['push'](this['playGlobalAudio'](rl,qR));}if(qS)r4();}['bind'](this);var r6=function(){for(var rm=0x0,rn=qO['length'];rm<rn;++rm){var ro=qO[rm];r3['push'](this['playGlobalAudioWhilePlay'](qU,qV,ro,qR));}if(qS)r4();}['bind'](this);var r7=function(){for(var rp=0x0,rq=qO['length'];rp<rq;++rp){this['pauseGlobalAudio'](qO[rp]);}}['bind'](this);var r8=function(){for(var rr=0x0,rs=qO['length'];rr<rs;++rr){this['stopGlobalAudio'](qO[rr]);}}['bind'](this);var r9=function(){for(var rt=0x0,ru=qO['length'];rt<ru;++rt){if(this['getGlobalAudio'](qO[rt])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(qP=='playPause'||qP=='playStop'){if(r9()){if(qP=='playPause'){r7();}else if(qP=='playStop'){r8();}}else{if(qS){if(qP=='playStop'){this['stopGlobalAudios'](!![]);}}if(qU){r6();}else{r5();}}}else if(qP=='play'||qP=='forcePlay'){if(qP=='forcePlay')r8();if(qU||qQ===!![]){if(qT){var ra=qU?qU['get']('items')[qV]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(ra&&ra['pauseCamera']){var rb=qO['concat']();endCallback=function(rv){rb['splice'](rb['indexOf'](rv),0x1);if(rb['length']==0x0)ra['resumeCamera']();}['bind'](this);ra['pauseCamera']();}}r6();}else{r5();}}else if(qP=='stop'){r8();}else if(qP=='pause'){r7();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(rw,rx,ry,rz,rA,rB,rC){var rD=this['getAudioByTags'](rw,rx);this['executeAudioAction'](rD,ry,rz,rA,rB,rC);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(rE,rF){var rG=rE['get']('items')[rF];var rH=rG['get']('player');var rI=rH['get']('viewerArea');var rJ=this['getByClassName']('PlayList');for(var rK of rJ){if(rK==rE)continue;var rL=rK['get']('selectedIndex');if(rL!=-0x1){var rM=rK['get']('items')[rL];var rN=rM['get']('player');if(rN&&rN!=rH&&rN['get']('class')!='Model3DPlayer'&&rN['get']('viewerArea')==rI)rK['set']('selectedIndex',-0x1);}}rE['set']('selectedIndex',rF);};TDV['Tour']['Script']['setMediaBehaviour']=function(rO,rP,rQ,rR){var rS=this;var rT=function(sg){if(sg['data']['state']=='stopped'&&rR){rX['call'](this,!![]);}};var rU=function(){s3['unbind']('begin',rU,rS);var sh=s3['get']('media');var si=sh['get']('class');if(si!='Panorama'&&si!='Model3D'||sh['get']('camera')!=undefined&&sh['get']('camera')['get']('initialSequence')!=undefined){s4['bind']('stateChange',rT,rS);}};var rV=function(){var sj=s0['get']('selectedIndex');if(sj!=-0x1){s2=sj;rX['call'](this,![]);}};var rW=function(){rX['call'](this,![]);};var rX=function(sk){if(!s0)return;var sl=s3['get']('media');if((sl['get']('class')=='Video360'||sl['get']('class')=='Video')&&sl['get']('loop')==!![]&&!sk)return;rO['set']('selectedIndex',-0x1);if(sb&&sa!=-0x1){if(sb){if(sa>0x0&&sb['get']('movements')[sa-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var sm=sc['get']('initialPosition');var sn=sm['get']('yaw');var so=sm['get']('pitch');var sp=sm['get']('hfov');var sq=sb['get']('movements')[sa-0x1];var sr=sq['get']('targetYaw');var ss=sq['get']('targetPitch');var st=sq['get']('targetHfov');if(sr!==undefined)sm['set']('yaw',sr);if(ss!==undefined)sm['set']('pitch',ss);if(st!==undefined)sm['set']('hfov',st);var su=function(sx){sm['set']('yaw',sn);sm['set']('pitch',so);sm['set']('hfov',sp);s6['unbind']('end',su,this);};s6['bind']('end',su,this);}sb['set']('movementIndex',sa);}}if(s4){s3['unbind']('begin',rU,this);s4['unbind']('stateChange',rT,this);for(var sv=0x0;sv<sd['length'];++sv){sd[sv]['unbind']('click',rW,this);}}if(s9){var sw=this['getMediaFromPlayer'](s4);if((s0==this['mainPlayList']||s0['get']('items')['length']>0x1)&&(sw==undefined||sw==s3['get']('media'))){s0['set']('selectedIndex',s2);}if(rO!=s0)s0['unbind']('change',rV,this);}else{s7['set']('visible',s8);}s0=undefined;};if(!rQ){var rY=rO['get']('selectedIndex');var rZ=rY!=-0x1?rO['get']('items')[rO['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rZ){rQ=this['getMediaFromPlayer'](rZ);}}var s0=undefined;if(rQ){var s1=this['getPlayListsWithMedia'](rQ,!![]);if(s1['indexOf'](rO)!=-0x1){s0=rO;}else if(s1['indexOf'](this['mainPlayList'])!=-0x1){s0=this['mainPlayList'];}else if(s1['length']>0x0){s0=s1[0x0];}}if(!s0){rO['set']('selectedIndex',rP);return;}var s2=s0['get']('selectedIndex');var s3=rO['get']('items')[rP];var s4=s3['get']('player');var s5=this['getMediaFromPlayer'](s4);if(rO['get']('selectedIndex')==rP&&s5==s3['get']('media')||s2==-0x1){return;}if(rO['get']('selectedIndex')==rP&&s5!=s3['get']('media'))rO['set']('selectedIndex',-0x1);var s6=s0['get']('items')[s2];var s7=s4['get']('viewerArea');var s8=s7['get']('visible');var s9=s7==s6['get']('player')['get']('viewerArea');if(s9){if(rO!=s0){s0['set']('selectedIndex',-0x1);s0['bind']('change',rV,this);}}else{s7['set']('visible',!![]);}var sa=-0x1;var sb=undefined;var sc=s6['get']('camera');if(sc){sb=sc['get']('initialSequence');if(sb){sa=sb['get']('movementIndex');}}rO['set']('selectedIndex',rP);var sd=[];var se=function(sy){var sz=s4['get'](sy);if(sz==undefined)return;if(Array['isArray'](sz))sd=sd['concat'](sz);else sd['push'](sz);};se('buttonStop');for(var sf=0x0;sf<sd['length'];++sf){sd[sf]['bind']('click',rW,this);}s3['bind']('begin',rU,rS);this['executeFunctionWhenChange'](rO,rP,rR?rW:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(sA,sB,sC,sD){var sE=function(){switch(sC){case'triggerClick':this['triggerOverlay'](sA,'click');break;case'stop':case'play':case'pause':sA[sC]();break;case'togglePlayPause':case'togglePlayStop':if(sA['get']('state')=='playing')sA[sC=='togglePlayPause'?'pause':'stop']();else sA['play']();break;}if(sD){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var sJ=sA['get']('id');window['overlaysDispatched'][sJ]=!![];setTimeout(function(){delete window['overlaysDispatched'][sJ];},0x3e8);}};if(sD&&window['overlaysDispatched']!=undefined&&sA['get']('id')in window['overlaysDispatched'])return;var sF=this['getFirstPlayListWithMedia'](sB,!![]);if(sF!=undefined){var sG=this['getPlayListItemByMedia'](sF,sB);var sH=sG['get']('player');if(sF['get']('items')['indexOf'](sG)!=sF['get']('selectedIndex')||this['isPanorama'](sG['get']('media'))&&sH['get']('rendererPanorama')!=sG['get']('media')){var sI=function(sK){sG['unbind']('begin',sI,this);sE['call'](this);};sG['bind']('begin',sI,this);return;}}sE['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(sL,sM,sN){var sO='overlayEffects';var sP=undefined;var sQ=this['getKey'](sO);if(!sQ){sQ={};this['registerKey'](sO,sQ);}for(var sR=0x0,sS=sL['length'];sR<sS;++sR){var sT=sL[sR];if(!sT)continue;if(sN&&sN>0x0){sQ[sT['get']('id')]=setTimeout(sU['bind'](this,sT),sN);}else{sU['call'](this,sT);}}function sU(sV){var sW=sV['get']('id');var sX=sQ[sW];if(sX){clearTimeout(sX);delete sX[sW];}var sY=sV['get']('class')=='PanoramaModel3DLocation'?sV['get']('data')['sprite']:sV;var sZ=sM=='toggle'?!sY['get']('enabled'):sM;sY['set']('enabled',sZ);if(sV['get']('class')=='PanoramaModel3DLocation')sV['get']('data')['enabled']=sZ;var t1=sV['get']('data');if(sZ&&t1&&'group'in t1){var t2=this['getOverlaysByGroupname'](t1['group']);for(var t3=0x0,t4=t2['length'];t3<t4;++t3){var t6=t2[t3];if(t6!=sV)t6['set']('enabled',!sZ);}}if(!sP)sP=this['getByClassName']('AdjacentPanorama');for(var t7=0x0,t8=sP['length'];t7<t8;++t7){var t9=sP[t7];var t1=t9['get']('data');if(!t1)continue;var t6=this[t1['overlayID']];if(t6&&t6==sV){t9['set']('enabled',t6['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(ta,tb,tc,td,te){var tf=tc?this['getPanoramaOverlaysByTags'](tc,ta,td):this['getOverlaysByTags'](ta,td);this['setOverlaysVisibility'](tf,tb,te);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tg,th,ti,tj,tk){var tl=this['getComponentsByTags'](tg,tk);for(var tm=0x0,tn=tl['length'];tm<tn;++tm){var to=tl[tm];if(th=='toggle')to['get']('visible')?tj(to):ti(to);else th?ti(to):tj(to);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(tp,tq,tr,ts,tt){var tu=tp['get']('selectedIndex');var tv=tp['get']('items');var tw=tq['get']('media');var tx=tw['get']('camera');if(tx['get']('state')=='playing')tx['stop']();if(tu>=0x0&&tv[tu]==tq&&tw['get']('isLoaded')){tx['set']('yaw',tx['get']('yaw')%0x168);this['createTween'](tx,tr,ts,tt)['play']();}else{this['startModel3DWithCameraSpot'](tq,tr);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(ty,tz,tA){var tB=ty['get']('selectedIndex');var tC=ty['get']('items');var tD=tz['get']('media');if(tC[tB]==tz&&tD['get']('isLoaded')){tA['play']();}else{var tE=tA['get']('movements');var tF={};if(tE['length']>0x0){var tG=tE[0x0];if(tG['get']('class')=='TargetModel3DCameraMovement'){var tH=['x','y','z','yaw','pitch','fov','distance'];for(var tI in tH){tI=tH[tI];var tJ=tG['get']('target'+tI['charAt'](0x0)['toUpperCase']()+tI['slice'](0x1));if(tJ!==undefined){tF[tI]=tJ;}}}}this['startModel3DWithCameraSpot'](tz,tF);var tK=function(){tz['unbind']('begin',tK,this);tA['play']();};tz['bind']('begin',tK,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(tL,tM){var tN=this['getActiveMediaWithViewer'](tM||this['getMainViewer']());if(tN!=undefined&&(tN['get']('class')['indexOf']('Panorama')!=-0x1||tN['get']('class')=='Video360')){var tO=tL['get']('media');var tP=this['clonePanoramaCamera'](tL['get']('camera'));this['setCameraSameSpotAsMedia'](tP,tN);this['startPanoramaWithCamera'](tO,tP);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(tQ,tR,tS,tT,tU){var tV=tQ['get']('selectedIndex');var tW=tQ['get']('items');var tX=tR['get']('player');if(tW[tV]==tR||tX['get']('rendererPanorama')==tR['get']('media')){if(tS===undefined)tS=tX['get']('yaw');if(tT===undefined)tT=tX['get']('pitch');if(tU===undefined)tU=tX['get']('hfov');tX['moveTo'](tS,tT,tX['get']('roll'),tU);}else{var tY=tR['get']('media');var tZ=this['clonePanoramaCamera'](tR['get']('camera'));var u0=tZ['get']('initialPosition');if(tS!==undefined)u0['set']('yaw',tS);if(tT!==undefined)u0['set']('pitch',tT);if(tU!==undefined)u0['set']('hfov',tU);this['startPanoramaWithCamera'](tY,tZ);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(u1){var u2=this['getByClassName']('HotspotPanoramaOverlay');var u3=this['getByClassName']('PanoramaPlayer');var u4=u1=='hotspotEnabled';var u5=u1=='circleEnabled';var u6=!!u1;u2['forEach'](function(u7){var u8=u7['get']('data');if(u8&&u8['hasPanoramaAction']==!![])u7['set']('enabledInSurfaceSelection',u4);});u3['forEach'](function(u9){u9['set']('adjacentPanoramaPositionsEnabled',u5);u9['set']('surfaceSelectionEnabled',u6);});this['get']('data')['surfaceSelectionHotspotMode']=u1;};TDV['Tour']['Script']['setValue']=function(ua,ub,uc){try{if('set'in ua)ua['set'](ub,uc);else ua[ub]=uc;}catch(ud){}};TDV['Tour']['Script']['setStartTimeVideo']=function(ue,uf){var ug=this['getPlayListItems'](ue);var uh=[];var ui=function(){for(var um=0x0;um<ug['length'];++um){var un=ug[um];un['set']('startTime',uh[um]);un['unbind']('stop',ui,this);}};for(var uj=0x0;uj<ug['length'];++uj){var uk=ug[uj];var ul=uk['get']('player');if(!ul)continue;if(ul['get']('video')==ue&&ul['get']('state')=='playing'){ul['seek'](uf);}else{uh['push'](uk['get']('startTime'));uk['set']('startTime',uf);uk['bind']('stop',ui,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(uo,up){if(uo&&up)this['setStartTimeVideo'](uo,up['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(uq){if(uq&&uq['get']('class')=='PanoramaPlayer'){var ur=uq['get']('viewerArea');if(ur&&ur['get']('translationTransitionEnabled')==!![]){var us=function(){uq['unbind']('preloadMediaShow',us,this);ur['set']('translationTransitionEnabled',!![]);};ur['set']('translationTransitionEnabled',![]);uq['bind']('preloadMediaShow',us,this);}}};TDV['Tour']['Script']['shareSocial']=function(ut,uu,uv,uw,ux){if(uu==undefined){uu=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(uv){uu+=this['updateDeepLink'](uw,![]);}uu=function(uz){switch(uz){case'email':return'mailto:?body='+encodeURIComponent(uu);case'facebook':var uA=uu['indexOf']('?')!=-0x1;uu=uu['replace']('#','?');if(uA){var uB=uu['lastIndexOf']('?');uu=uu['substring'](0x0,uB)+'&'+uu['substring'](uB+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(uu);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(uu);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+uu;case'telegram':return'https://t.me/share/url?url='+uu;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+uu;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(uu);default:return uu;}}(ut);if(ux){for(var uy in ux){uu+='&'+uy+'='+ux[uy];}}if(ut=='clipboard')this['copyToClipboard'](uu);else this['openLink'](uu,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(uC,uD,uE,uF){var uG=function(uK){for(var uL=0x0,uM=uD['length'];uL<uM;uL++){var uN=uD[uL];if(!uF||uF(uN,uK))uN['set']('visible',uK);}};if(this['get']('isMobile')){uG['call'](this,!![]);}else{var uH=-0x1;var uI=function(){uG['call'](this,!![]);if(uH>=0x0)clearTimeout(uH);uC['bind']('rollOut',uJ,this);};var uJ=function(){var uO=function(){uG['call'](this,![]);};uC['unbind']('rollOut',uJ,this);uH=setTimeout(uO['bind'](this),uE);};uC['bind']('rollOver',uI,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(uP,uQ,uR,uS){var uT=this['_getObjectsByTags'](uQ,['InnerModel3DObject'],'tags2Objects',uR)['filter'](function(uU){return uP['get']('objects')['indexOf'](uU)!=-0x1;}['bind'](this));this['setObjectsVisibility'](uT,uS);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(uV,uW,uX){var uY=uW['map'](function(uZ){return this['getModel3DInnerObject'](uV,uZ);}['bind'](this));this['setObjectsVisibility'](uY,uX);};TDV['Tour']['Script']['setObjectsVisibility']=function(v0,v1){v0['forEach'](function(v2){if(v2)v2['set']('enabled',v1==='toggle'?!v2['get']('enabled'):v1);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(v3,v4){var v5=v3['get']('objects');for(var v6=0x0,v7=v5['length'];v6<v7;++v6){var v8=v5[v6];if(v8['get']('class')=='InnerModel3DObject'&&v8['get']('objectId')==v4)return v8;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(v9,va,vb,vc,vd,ve){var vf=this;var vg=function(){window['resumeAudiosBlocked']=![];vb['set']('selectedIndex',-0x1);vf['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](vl,!![]);if(vk){this['unbind']('resize',vi,this);}v9['unbind']('close',vg,this);};var vh=function(){v9['hide']();};var vi=function(){var vm=function(vD){return v9['get'](vD)||0x0;};var vn=vf['get']('actualWidth');var vo=vf['get']('actualHeight');var vp=vf['getMediaWidth'](va);var vq=vf['getMediaHeight'](va);var vr=parseFloat(vc)/0x64;var vs=parseFloat(vd)/0x64;var vt=vr*vn;var vu=vs*vo;var vv=vm('footerHeight');var vw=vm('headerHeight');if(!vw){var vx=vm('closeButtonIconHeight')+vm('closeButtonPaddingTop')+vm('closeButtonPaddingBottom');var vy=vf['getPixels'](vm('titleFontSize'))+vm('titlePaddingTop')+vm('titlePaddingBottom');vw=vx>vy?vx:vy;vw+=vm('headerPaddingTop')+vm('headerPaddingBottom');}var vz=vt-vm('bodyPaddingLeft')-vm('bodyPaddingRight')-vm('paddingLeft')-vm('paddingRight');var vA=vu-vw-vv-vm('bodyPaddingTop')-vm('bodyPaddingBottom')-vm('paddingTop')-vm('paddingBottom');var vB=vz/vA;var vC=vp/vq;if(vB>vC){vt=vA*vC+vm('bodyPaddingLeft')+vm('bodyPaddingRight')+vm('paddingLeft')+vm('paddingRight');}else{vu=vz/vC+vw+vv+vm('bodyPaddingTop')+vm('bodyPaddingBottom')+vm('paddingTop')+vm('paddingBottom');}if(vt>vn*vr){vt=vn*vr;}if(vu>vo*vs){vu=vo*vs;}v9['set']('width',vt);v9['set']('height',vu);v9['set']('x',(vn-vm('actualWidth'))*0.5);v9['set']('y',(vo-vm('actualHeight'))*0.5);};if(ve){this['executeFunctionWhenChange'](vb,0x0,vh);}var vj=va['get']('class');var vk=vj=='Video'||vj=='Video360';vb['set']('selectedIndex',0x0);if(vk){this['bind']('resize',vi,this);vi();vb['get']('items')[0x0]['get']('player')['play']();}else{v9['set']('width',vc);v9['set']('height',vd);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var vl=this['pauseCurrentPlayers'](!![]);v9['bind']('close',vg,this);v9['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(vE,vF,vG,vH,vI,vJ,vK,vL,vM,vN,vO,vP){var vQ=![];var vR=function(){w8['unbind']('loaded',vU,this);vY['call'](this);};var vS=function(){w8['unbind']('click',vS,this);if(wc!=undefined){clearTimeout(wc);}};var vT=function(){setTimeout(w2,0x0);};var vU=function(){this['unbind']('click',vR,this);w7['set']('visible',!![]);w2();w9['set']('visible',!![]);w8['unbind']('loaded',vU,this);w8['bind']('resize',vT,this);wc=setTimeout(vV['bind'](this),0xc8);};var vV=function(){wc=undefined;if(vL){w8['bind']('click',vS,this);vX['call'](this);}w8['bind']('userInteractionStart',w3,this);w8['bind']('userInteractionEnd',w4,this);w8['bind']('backgroundClick',vY,this);if(vF){w8['bind']('click',w0,this);w8['set']('imageCursor','hand');}w9['bind']('click',vY,this);if(vO)vO['call'](this);};var vW=function(){if(vL&&wc){clearTimeout(wc);wc=undefined;}};var vX=function(){if(vL){vW();wc=setTimeout(vY['bind'](this),vL);}};var vY=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);vQ=!![];if(wc)clearTimeout(wc);if(wd)clearTimeout(wd);if(vL)vS();if(vP)vP['call'](this);w8['set']('visible',![]);if(vJ&&vJ['get']('duration')>0x0){vJ['bind']('end',vZ,this);}else{w8['set']('image',null);}w9['set']('visible',![]);w7['set']('visible',![]);this['unbind']('click',vR,this);w8['unbind']('backgroundClick',vY,this);w8['unbind']('userInteractionStart',w3,this);w8['unbind']('userInteractionEnd',w4,this,!![]);w8['unbind']('resize',vT,this);if(vF){w8['unbind']('click',w0,this);w8['set']('cursor','default');}w9['unbind']('click',vY,this);this['resumePlayers'](wb,vM==null||vN);if(vN){this['resumeGlobalAudios']();}if(vM){this['stopGlobalAudio'](vM);}};var vZ=function(){w8['set']('image',null);vJ['unbind']('end',vZ,this);};var w0=function(){w8['set']('image',w1()?vE:vF);};var w1=function(){return w8['get']('image')==vF;};var w2=function(){var we=w8['get']('actualWidth')-w8['get']('imageLeft')-w8['get']('imageWidth')+0xa;var wf=w8['get']('imageTop')+0xa;if(we<0xa)we=0xa;if(wf<0xa)wf=0xa;w9['set']('right',we);w9['set']('top',wf);};var w3=function(){vW();if(wd){clearTimeout(wd);wd=undefined;}else{w9['set']('visible',![]);}};var w4=function(){vX['call'](this);if(!vQ){wd=setTimeout(w5,0x12c);}};var w5=function(){wd=undefined;w9['set']('visible',!![]);w2();};var w6=function(wg){var wh=wg['get']('data');if(wh&&'extraLevels'in wh){var wi=this['rootPlayer']['createInstance'](wg['get']('class'));var wj=wh['extraLevels'];for(var wk=0x0;wk<wj['length'];wk++){var wl=wj[wk];if(typeof wl=='string')wj[wk]=this[wl['replace']('this.','')];}wi['set']('levels',wg['get']('levels')['concat'](wj));wg=wi;}return wg;};this['getMainViewer']()['set']('toolTipEnabled',![]);var w7=this['veilPopupPanorama'];var w8=this['zoomImagePopupPanorama'];var w9=this['closeButtonPopupPanorama'];if(vK){for(var wa in vK){w9['set'](wa,vK[wa]);}}var wb=this['pauseCurrentPlayers'](vM==null||!vN);if(vN){this['pauseGlobalAudios'](null,!![]);}if(vM){this['playGlobalAudio'](vM,!![]);}var wc=undefined;var wd=undefined;vE=w6['call'](this,vE);if(vF)vF=w6['call'](this,vF);w8['bind']('loaded',vU,this);setTimeout(function(){this['bind']('click',vR,this,![]);}['bind'](this),0x0);w8['set']('image',vE);w8['set']('customWidth',vG);w8['set']('customHeight',vH);w8['set']('showEffect',vI);w8['set']('hideEffect',vJ);w8['set']('visible',!![]);return w8;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(wm,wn,wo,wp,wq,wr,ws,wt){var wu=this['isCardboardViewMode']();if(wm['get']('visible')||!wu&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!wu){var wv=this['zoomImagePopupPanorama'];var ww=wm['get']('showDuration');var wx=wm['get']('hideDuration');var wz=this['pauseCurrentPlayers'](wr==null||!ws);var wA=wm['get']('popupMaxWidth');var wB=wm['get']('popupMaxHeight');var wC=function(){var wG=function(){if(!this['isCardboardViewMode']())wm['set']('visible',![]);};wm['unbind']('showEnd',wC,this);wm['set']('showDuration',0x1);wm['set']('hideDuration',0x1);this['showPopupImage'](wo,wp,wm['get']('popupMaxWidth'),wm['get']('popupMaxHeight'),null,null,wn,wq,wr,ws,wG,wD);};var wD=function(){var wH=function(){wm['unbind']('hideEnd',wH,this);if(wt)wt();};var wI=function(){wm['unbind']('showEnd',wI,this);wm['bind']('hideEnd',wH,this,!![]);wm['set']('visible',![]);wm['set']('showDuration',ww);wm['set']('popupMaxWidth',wA);wm['set']('popupMaxHeight',wB);};this['resumePlayers'](wz,wr==null||!ws);var wJ=wv['get']('imageWidth');var wK=wv['get']('imageHeight');wm['bind']('showEnd',wI,this,!![]);wm['set']('showDuration',0x1);wm['set']('hideDuration',wx);wm['set']('popupMaxWidth',wJ);wm['set']('popupMaxHeight',wK);if(wm['get']('visible'))wI();else wm['set']('visible',!![]);this['getMainViewer']()['set']('toolTipEnabled',!![]);};wm['bind']('showEnd',wC,this,!![]);}else{var wE=function(){this['resumePlayers'](wz,wr==null||ws);if(ws){this['resumeGlobalAudios']();}if(wr){this['stopGlobalAudio'](wr);}if(wp){wm['set']('image',wo);wm['unbind']('click',wF,this);}wm['unbind']('hideEnd',wE,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(wt)wt();};var wF=function(){wm['set']('image',wm['get']('image')==wo?wp:wo);};var wz=this['pauseCurrentPlayers'](wr==null||!ws);if(ws){this['pauseGlobalAudios'](null,!![]);}if(wr){this['playGlobalAudio'](wr,!![]);}if(wp)wm['bind']('click',wF,this);wm['bind']('hideEnd',wE,this,!![]);}wm['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(wL,wM,wN,wO,wP){var wQ=![];var wR=function(){wL['unbind']('showEnd',wR);wV['bind']('click',wT,this);wU();wV['set']('visible',!![]);}['bind'](this);var wS=function(){wQ=!![];if(!wL['get']('loop'))wT();}['bind'](this);var wT=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);wL['set']('visible',![]);wV['set']('visible',![]);wV['unbind']('click',wT,this);wL['unbind']('end',wS,this);wL['unbind']('hideEnd',wT,this,!![]);this['resumePlayers'](wX,!![]);if(wN){this['resumeGlobalAudios']();}if(wO)wO();if(wP&&wQ)wP();}['bind'](this);var wU=function(){var wY=0xa;var wZ=0xa;wV['set']('right',wY);wV['set']('top',wZ);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var wV=this['closeButtonPopupPanorama'];if(wM){for(var wW in wM){wV['set'](wW,wM[wW]);}}window['resumeAudiosBlocked']=!![];var wX=this['pauseCurrentPlayers'](!![]);if(wN){this['pauseGlobalAudios']();}wL['bind']('end',wS,this,!![]);wL['bind']('showEnd',wR,this,!![]);wL['bind']('hideEnd',wT,this,!![]);wL['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(x0,x1,x2){if(x0['get']('visible')==!![]){return;}var x3=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(x2){this['resumeGlobalAudios']();}x4();this['resumePlayers'](x7,!x2);x0['unbind']('close',x3,this);};var x4=function(){x0['unbind']('click',x4,this);if(x5!=undefined){clearTimeout(x5);}};var x5=undefined;if(x1){var x6=function(){x0['hide']();};x0['bind']('click',x4,this);x5=setTimeout(x6,x1);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(x2){this['pauseGlobalAudios'](null,!![]);}var x7=this['pauseCurrentPlayers'](!x2);x0['bind']('close',x3,this);x0['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(x8,x9){var xa=x8['get']('media');var xb=window['currentPanoramasWithCameraChanged']==undefined||!(xa['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xb){return;}var xc=xa['get']('camera');x9=Object['assign']({},x9);if(!xa['get']('isLoaded')){var xd={};for(var xf in x9){var xg='initial'+xf['charAt'](0x0)['toUpperCase']()+xf['slice'](0x1);xd[xg]=xc['get'](xg);x9[xg]=x9[xf];delete x9[xf];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xh=xa['get']('id');window['currentPanoramasWithCameraChanged'][xh]=[x8];var xi=function(){if(xh in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xh];}x8['unbind']('begin',xi,this);for(var xq in xd){xc['set'](xq,xd[xq]);}};x8['bind']('begin',xi,this);}else{for(var xf in x9){xc['set'](xf,x9[xf]);}xc['setStoredPosition'](x9);}var xj=x8['get']('player');var xk=xj['get']('viewerArea');var xl=this['getActivePlayersWithViewer'](xk);var xm=xl['find'](function(xr){return this['getMediaFromPlayer'](xr)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var xn=xa['get']('data');if(xm&&xn['panoramaLocations']){var xo=this['getMediaFromPlayer'](xm);var xp=_getObject(this,xn['panoramaLocations']['find'](xs=>xo==_getObject(this,_getObject(this,xs)['get']('data')['panorama'])));if(xp&&!xp['get']('forceModelLoading')){xp['set']('forceModelLoading',!![]);x8['bind']('begin',function xt(){x8['unbind']('begin',xt,this);xp['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(xu,xv){var xw=this['getByClassName']('PlayList');if(xw['length']==0x0)return;var xx=window['currentPanoramasWithCameraChanged']==undefined||!(xu['get']('id')in window['currentPanoramasWithCameraChanged']);var xy=[];for(var xA=0x0,xB=xw['length'];xA<xB;++xA){var xC=xw[xA];var xD=xC['get']('items');for(var xE=0x0,xF=xD['length'];xE<xF;++xE){var xH=xD[xE];if(xH['get']('media')==xu&&(xH['get']('class')=='PanoramaPlayListItem'||xH['get']('class')=='Video360PlayListItem')){if(xx){xy['push']({'camera':xH['get']('camera'),'item':xH});}xH['set']('camera',xv);}}}if(xy['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xI=xu['get']('id');window['currentPanoramasWithCameraChanged'][xI]=xy;var xJ=function(){if(xI in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xI];}for(var xL=0x0;xL<xy['length'];xL++){xy[xL]['item']['set']('camera',xy[xL]['camera']);xy[xL]['item']['unbind']('end',xJ,this);}};for(var xA=0x0;xA<xy['length'];xA++){var xK=xy[xA];var xH=xK['item'];this['skip3DTransitionOnce'](xH['get']('player'));xH['bind']('end',xJ,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(xM,xN){var xO=xM['get']('initialSequence');xO['pause']();var xP=function(){xO['play']();};setTimeout(xP,xN);};TDV['Tour']['Script']['syncPlaylists']=function(xQ){var xR=function(xZ,y0){for(var y1=0x0,y2=xQ['length'];y1<y2;++y1){var y3=xQ[y1];if(y3!=y0){var y4=y3['get']('items');for(var y5=0x0,y6=y4['length'];y5<y6;++y5){if(y4[y5]['get']('media')==xZ){if(y3['get']('selectedIndex')!=y5){y3['set']('selectedIndex',y5);}break;}}}}};var xS=function(y7){var y8=y7['source'];var y9=y8['get']('selectedIndex');if(y9<0x0)return;var ya=y8['get']('items')[y9]['get']('media');xR(ya,y8);};var xT=function(yb){var yc=yb['source']['get']('panoramaMapLocation');if(yc){var yd=yc['get']('map');xR(yd);}};for(var xV=0x0,xX=xQ['length'];xV<xX;++xV){xQ[xV]['bind']('change',xS,this);}var xY=this['getByClassName']('MapPlayer');for(var xV=0x0,xX=xY['length'];xV<xX;++xV){xY[xV]['bind']('panoramaMapLocation_change',xT,this);}};TDV['Tour']['Script']['translate']=function(ye){return this['get']('data')['localeManager']['trans'](ye);};TDV['Tour']['Script']['triggerOverlay']=function(yf,yg){if(yf['get']('areas')!=undefined){var yh=yf['get']('areas');for(var yi=0x0;yi<yh['length'];++yi){yh[yi]['trigger'](yg);}}else{yf['trigger'](yg);}};TDV['Tour']['Script']['updateDeepLink']=function(yj){yj=yj||{};var yk=this['mainPlayList']['get']('selectedIndex');var yl;var ym=yk>=0x0?this['mainPlayList']['get']('items')[yk]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(ym!=undefined){var yo=ym['get']('data');if(yo&&yo['label']){yl='#media-name='+yo['label'];}else if(yk>=0x0){yl='#media='+(yk+0x1);}}if(ym){if(yj['includeCurrentView']===!![]){var yp=this['getActivePlayerWithViewer'](this['getMainViewer']());if(yp){switch(yp['get']('class')){case'PanoramaPlayer':var yq=yp['get']('yaw');var yr=yp['get']('pitch');if(!isNaN(yq)&&!isNaN(yr))yl+='&yaw='+yq['toFixed'](0x2)+'&pitch='+yr['toFixed'](0x2);break;case'Model3DPlayer':var ys=yp['get']('model');var yt=ys['get']('camera');var yu=[];yu['push']('yaw='+yt['get']('yaw')['toFixed'](0x2));yu['push']('pitch='+yt['get']('pitch')['toFixed'](0x2));yu['push']('x='+yt['get']('x')['toFixed'](0x5));yu['push']('y='+yt['get']('y')['toFixed'](0x5));yu['push']('z='+yt['get']('z')['toFixed'](0x5));if(yt['get']('class')=='OrbitModel3DCamera')yu['push']('distance='+yt['get']('distance')['toFixed'](0x5));yl+='&'+yu['join']('&');break;}}}if(yj['includeCurrentVisibleHotspots']===!![]){var yv=this['getOverlays'](ym);var yw=[];var yx=[];for(var yy=0x0,yz=yv['length'];yy<yz;++yy){var yA=yv[yy];var yB=yA['get']('enabled');var yo=yA['get']('data');if(yB===undefined||!yo||!yo['label'])continue;var yC=encodeURIComponent(yo['label']);var yD=yo['group'];if(yB!=yo['defaultEnabledValue']){if(yB){yw['push'](yC);}else if(!yD){yx['push'](yC);}}}if(yw['length']>0x0)yl+='&son='+yw['join'](',');if(yx['length']>0x0)yl+='&hon='+yx['join'](',');if(ym['get']('class')=='Model3D'){var yE=ym['get']('variant');if(yE)yl+='&variant='+yE;var yF=ym['get']('objects');var yG=[];var yH=[];yF['forEach'](function(yJ){if(yJ['get']('class')=='InnerModel3DObject')(yJ['get']('enabled')?yG:yH)['push'](yJ['get']('objectId'));});if(yG['length']>0x0)yl+='&sobjids='+yG['join'](',');if(yH['length']>0x0)yl+='&hobjids='+yH['join'](',');}}if(yj['includeCurrentMeasureModel3DObjects']===!![]&&ym['get']('class')=='Model3D'){var yI=[];ym['get']('objects')['forEach'](function(yK){if(yK['get']('class')=='MeasureModel3DObject'&&yK['get']('mode')!='create'){var yL=[yK['get']('data')['id'],yK['get']('x'),yK['get']('y'),yK['get']('z')];yK['get']('points')['forEach'](function(yM){yL['push'](yM['get']('x'),yM['get']('y'),yM['get']('z'));});if(yL['length']>0x4){yI['push'](yL['join'](','));}}});if(yI['length']>0x0)yl+='&measures='+yI['join']('+');}}if(yl&&yj['setHash']===!![]){location['hash']=yl;}return yl;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(yN,yO,yP){var yQ=function(){var yS=yN['get']('selectedIndex');if(yS>=0x0){var yT=function(){yW['unbind']('begin',yT);yU(yS);};var yU=function(yX){var yY=yW['get']('media');var yZ=yY['get']('data');var z0=yZ!==undefined?yZ['description']:undefined;yV(z0);};var yV=function(z1){if(z1!==undefined){yO['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+z1+'</SPAN></div>');}else{yO['set']('html','');}var z2=yO['get']('html');yO['set']('visible',z2!==undefined&&z2);};var yW=yN['get']('items')[yS];if(yO['get']('html')){yV('Loading...');yW['bind']('begin',yT);}else{yU(yS);}}};var yR=function(){yO['set']('html',undefined);yN['unbind']('change',yQ,this);yP['unbind']('stop',yR,this);};if(yP){yP['bind']('stop',yR,this);}yN['bind']('change',yQ,this);yQ();};TDV['Tour']['Script']['updateVideoCues']=function(z3,z4){var z5=z3['get']('items')[z4];var z6=z5['get']('media');if(z6['get']('cues')['length']==0x0)return;var z7=z5['get']('player');var z8=[];var z9=function(){if(z3['get']('selectedIndex')!=z4){z6['unbind']('cueChange',za,this);z3['unbind']('change',z9,this);}};var za=function(zb){var zc=zb['data']['activeCues'];for(var zd=0x0,ze=z8['length'];zd<ze;++zd){var zf=z8[zd];if(zc['indexOf'](zf)==-0x1&&(zf['get']('startTime')>z7['get']('currentTime')||zf['get']('endTime')<z7['get']('currentTime')+0.5)){zf['trigger']('end');}}z8=zc;};z6['bind']('cueChange',za,this);z3['bind']('change',z9,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(zg,zh){var zi=this['get'](zh);for(var zj in zg){zg[zj]['set']('visible',zi);}};TDV['Tour']['Script']['quizStart']=function(){var zk=this['get']('data')['quiz'];return zk?zk['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var zl=this['get']('data')['quiz'];return zl?zl['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var zm=this['get']('data')['quiz'];return zm?zm['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var zn=this['get']('data')['quiz'];return zn?zn['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(zo){var zp=this['get']('data')['quiz'];if(zp)zp['setItemFound'](zo);};TDV['Tour']['Script']['quizShowQuestion']=function(zq){var zr=this['get']('data');var zs=zr['quiz'];var zt;if(zs){var zu=this['pauseCurrentPlayers'](!![]);var zv=this[zq];var zw;if(!zv['media']){zw=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){zw={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var zx=this['get']('data')['tour']['getNotchValue']();if(zx>0x0){zw=this['mixObject'](zw||{},{'theme':{'window':{'width':undefined,'left':zx,'right':zx}}});}}var zy=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!zv['title'];if(zy)this['textToSpeech'](zv['title'],zq);zt=zs['showQuestion'](zq,zw);zt['then'](function(zz){if(zy)this['stopTextToSpeech']();this['resumePlayers'](zu,!![]);}['bind'](this));}return zt;};TDV['Tour']['Script']['quizShowScore']=function(zA){var zB=this['get']('data');var zC=zB['quiz'];if(zC){if(this['get']('isMobile')){zA=zA||{};zA=this['mixObject'](zA,zB[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return zC['showScore'](zA);}};TDV['Tour']['Script']['quizShowTimeout']=function(zD,zE){var zF=this['get']('data');var zG=zF['quiz'];if(zG){if(this['get']('isMobile')){zE=zE||{};zE=this['mixObject'](zE,zF[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}zG['showTimeout'](zD,zE);}};TDV['Tour']['Script']['stopTextToSpeech']=function(zH){if(window['speechSynthesis']&&(zH==undefined||this['t2sLastID']==zH)){var zI=window['speechSynthesis'];if(zI['speaking']){zI['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(zJ){return this['t2sLastID']==zJ?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(zK,zL,zM){if(this['get']('mute')){return;}var zN=this['get']('data');var zO=zN['disableTTS']||![];if(zO)return;if(zL!=undefined&&this['t2sLastID']!=zL||zL==undefined){zM=zM||0x0;if(this['t2sLastID']&&zM>this['t2sLastPriority']){return;}var zP=zN['tour'];var zQ=zN['textToSpeechConfig'];var zR=zN['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var zS=window['speechSynthesis'];if(zS['speaking']){zS['cancel']();}var zT=new SpeechSynthesisUtterance(zK);if(zR)zT['lang']=zR;var zU;if(zQ){zT['volume']=zQ['volume'];zT['pitch']=zQ['pitch'];zT['rate']=zQ['rate'];if(zQ['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}zT['onend']=function(){this['t2sLastID']=null;if(zU)clearInterval(zU);if(zQ['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){zU=setInterval(function(){zS['pause']();zS['resume']();},0xbb8);}zS['speak'](zT);this['t2sLastPriority']=zM;this['t2sLastID']=zL;}else if(zP['isMobileApp']()){if(!zP['isIOS']()){var zV=function(zW,zX){var zY={'command':'tts','type':zW};if(zX)zY=this['mixObject'](zY,zX);android['sendJSON'](JSON['stringify'](zY));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(zQ['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);zV('stop');if(zQ){zV('init',{'volume':zQ['volume'],'pitch':zQ['pitch'],'rate':zQ['rate'],'language':zR});if(zQ['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}zV('play',{'text':zK,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(zZ){var A0=zZ['get']('class');var A1;if(A0=='HTMLText'){var A2=zZ['get']('html');if(A2){A1=this['htmlToPlainText'](A2,{'linkProcess':function(A3,A4){return A4;}});}}else if(A0=='BaseButton'){A1=zZ['get']('label');}else if(A0=='Label'){A1=zZ['get']('text');}if(A1){this['textToSpeech'](A1,zZ['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(A5){var A6=A5['get']('id');if(this['getStateTextToSpeech'](A6)!='playing')this['textToSpeechComponent'](A5);else this['stopTextToSpeech'](A6);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function A7(A9){var Aa=A9['source'];this['textToSpeech'](Aa['get']('toolTip'),Aa['get']('id'),0x1);}function A8(Ab){var Ac=Ab['source'];this['stopTextToSpeech'](Ac['get']('id'));}setTimeout(function(){var Ad=this['getByClassName']('UIComponent');for(var Ae=0x0,Af=Ad['length'];Ae<Af;++Ae){var Ag=Ad[Ae];var Ah=Ag['get']('toolTip');if(!!Ah||Ag['get']('class')=='ViewerArea'){Ag['bind']('toolTipShow',A7,this);Ag['bind']('toolTipHide',A8,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(Ai){var Aj=this['getActivePlayerWithViewer'](Ai);if(Aj&&(Aj['get']('class')=='PanoramaPlayer'||Aj['get']('class')=='Model3DPlayer'))Aj['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(Ak,Al){var Am=function(AA,AB){var AC='';for(var AD=0x0;AD<AB;AD+=0x1){AC+=AA;}return AC;};var An=null;var Ao=null;var Ap='underline';var Aq='indention';var Ar='-';var As=0x3;var At='-';var Au=![];if(!!Al){if(typeof Al['linkProcess']==='function'){An=Al['linkProcess'];}if(typeof Al['imgProcess']==='function'){Ao=Al['imgProcess'];}if(!!Al['headingStyle']){Ap=Al['headingStyle'];}if(!!Al['listStyle']){Aq=Al['listStyle'];}if(!!Al['uIndentionChar']){Ar=Al['uIndentionChar'];}if(!!Al['listIndentionTabs']){As=Al['listIndentionTabs'];}if(!!Al['oIndentionChar']){At=Al['oIndentionChar'];}if(!!Al['keepNbsps']){Au=Al['keepNbsps'];}}var Av=Am(Ar,As);var Aw=String(Ak)['replace'](/\n|\r/g,'\x20');const Ax=Aw['match'](/<\/body>/i);if(Ax){Aw=Aw['substring'](0x0,Ax['index']);}const Ay=Aw['match'](/<body[^>]*>/i);if(Ay){Aw=Aw['substring'](Ay['index']+Ay[0x0]['length'],Aw['length']);}Aw=Aw['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');Aw=Aw['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');Aw=Aw['replace'](/<img([^>]*)>/gi,function(AE,AF){var AG='';var AH='';var AI=/src="([^"]*)"/i['exec'](AF);var AJ=/alt="([^"]*)"/i['exec'](AF);if(AI!==null){AG=AI[0x1];}if(AJ!==null){AH=AJ[0x1];}if(typeof Ao==='function'){return Ao(AG,AH);}if(AH===''){return'![image]\x20('+AG+')';}return'!['+AH+']\x20('+AG+')';});function Az(){return function(AK,AL,AM,AN){var AO=0x0;if(AM&&/start="([0-9]+)"/i['test'](AM)){AO=/start="([0-9]+)"/i['exec'](AM)[0x1]-0x1;}var AP='<p>'+AN['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(AQ,AR){var AS=0x0;var AT=AR['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(AL==='o'&&AS===0x0){AO+=0x1;AS+=0x1;return'<br\x20/>'+AO+Am(At,As-String(AO)['length']);}return'<br\x20/>'+Av;});return AT;})+'</p>';return AP;};}if(Aq==='linebreak'){Aw=Aw['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Aq==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](Aw)){Aw=Aw['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,Az());}}if(Ap==='linebreak'){Aw=Aw['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Ap==='underline'){Aw=Aw['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(AU,AV){return'\x0a&nbsp;\x0a'+AV+'\x0a'+Am('=',AV['length'])+'\x0a&nbsp;\x0a';});Aw=Aw['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(AW,AX){return'\x0a&nbsp;\x0a'+AX+'\x0a'+Am('-',AX['length'])+'\x0a&nbsp;\x0a';});Aw=Aw['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(AY,AZ,B0){return'\x0a&nbsp;\x0a'+B0+'\x0a&nbsp;\x0a';});}else if(Ap==='hashify'){Aw=Aw['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(B1,B2,B3){return'\x0a&nbsp;\x0a'+Am('#',B2)+'\x20'+B3+'\x0a&nbsp;\x0a';});}Aw=Aw['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');Aw=Aw['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(B4,B5,B6){if(typeof An==='function'){return An(B5,B6);}return'\x20['+B6+']\x20('+B5+')\x20';});Aw=Aw['replace'](/\n[ \t\f]*/gi,'\x0a');Aw=Aw['replace'](/\n\n+/gi,'\x0a');if(Au){Aw=Aw['replace'](/( |\t)+/gi,'\x20');Aw=Aw['replace'](/&nbsp;/gi,'\x20');}else{Aw=Aw['replace'](/( |&nbsp;|\t)+/gi,'\x20');}Aw=Aw['replace'](/\n +/gi,'\x0a');Aw=Aw['replace'](/^ +/gi,'');while(Aw['indexOf']('\x0a')===0x0){Aw=Aw['substring'](0x1);}if(Aw['length']===0x0||Aw['lastIndexOf']('\x0a')!==Aw['length']-0x1){Aw+='\x0a';}return Aw;};TDV['Tour']['Script']['openEmbeddedPDF']=function(B7,B8){var B9=!!window['MSInputMethodContext']&&!!document['documentMode'];if(B9){this['openLink'](B8,'_blank');return;}var Ba=B7['get']('class');var Bb=!new RegExp('^(?:[a-z]+:)?//','i')['test'](B8);if(Bb&&Ba=='WebFrame'){var Bc=location['origin']+location['pathname'];B7['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(Bc['substring'](0x0,Bc['lastIndexOf']('/'))+'/'+B8)+'#0');}else{var Bd=location['origin']==new URL(B8)['origin'];var Be='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var Bf=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var Bg='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+B8+'\x22,\x20\x22#content\x22,\x20{'+(Bd?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+Be+'\x22,'+'\x22forcePDFJS\x22:\x20'+Bf+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+Bd+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(Ba=='WebFrame'){B7['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+Bg+'</body>'+'</html>'));}else if(Ba=='HTML'){B7['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(Bg));}}};TDV['Tour']['Script']['getKey']=function(Bh){return window[Bh];};TDV['Tour']['Script']['registerKey']=function(Bi,Bj){window[Bi]=Bj;};TDV['Tour']['Script']['unregisterKey']=function(Bk){delete window[Bk];};TDV['Tour']['Script']['existsKey']=function(Bl){return Bl in window;};function _getCurrentActiveModels(){var Bm=this['getByClassName']('Model3DPlayer');var Bn=[];for(var Bo of Bm){var Bp=Bo['get']('model');var Bq=Bo['get']('viewerArea');if(Bp&&Bp['get']('isLoaded')&&Bq&&Bq['get']('visible'))Bn['push'](Bp);}return Bn;}function _onMeasureClick(Br){var Bs=Br['source'];var Bt=Bs['get']('mode');if(Bt!='create'){Bs['set']('mode',Bt=='view'?'edit':'view');console['log'](Bs['get']('mode'));}}function _forEachMeasureModel3DObject(Bu,Bv){if(!Bu)Bu=_getCurrentActiveModels['call'](this);Bu['forEach'](function(Bw){Bw['get']('objects')['forEach'](function(Bx){if(Bx['get']('class')=='MeasureModel3DObject')Bv(Bw,Bx);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(By,Bz){if(!By)By=_getCurrentActiveModels['call'](this);By['forEach'](function(BA){var BB=BA['get']('objects');var BC=BB['filter'](function(BD){return!Bz['call'](this,BD);});if(BC['length']!=BB['length']){BA['set']('objects',BC);BB['forEach'](function(BE){if(Bz['call'](this,BE))this['disposeInstance'](BE);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(BF){var BG=this['clone'](BF,BF['getAttributeNames']()['filter'](function(BH){return BH!='id';}));BG['set']('data',{'id':BF['get']('id')});return BG;}TDV['Tour']['Script']['startMeasurement']=function(BI,BJ){if(!BI)BI=_getCurrentActiveModels['call'](this);var BK={},BL={};BI['forEach'](function(BN){var BO=BN['get']('objects');var BP=BO['findIndex'](function(BU){return BU['get']('class')=='MeasureModel3DObject'&&BU['get']('mode')=='create';});var BQ=BP!=-0x1;if(BQ){var BR=BO[BP];if(BR['get']('points')['length']==0x0){BO['splice'](BP,0x1);this['disposeInstance'](BR);}else BR['set']('mode','view');}var BS=_cloneMeasureModel3DObject['call'](this,BJ);this['cloneBindings'](BJ,BS,'modeChange');BS['set']('mode','create');BS['bind']('click',_onMeasureClick,this);var BT=BN['get']('camera');BS['bind']('modeChange',function BV(){if(BS['get']('mode')=='create'){BK[BN['get']('id')]=BN['get']('surfaceSelectionEnabled');BN['set']('surfaceSelectionEnabled',!![]);if(BT['get']('class')=='FlyOverModel3DCamera'){BL[BN['get']('id')]=BT['get']('doubleClickAction');BT['set']('doubleClickAction','none');}}else{BS['unbind']('modeChange',BV,this);BN['set']('surfaceSelectionEnabled',BK[BN['get']('id')]);if(BT['get']('class')=='FlyOverModel3DCamera'){BT['set']('doubleClickAction',BL[BN['get']('id')]);}}},this);if(BI['length']>0x0){BS['bind']('distanceChange',function BW(){BS['unbind']('distanceChange',BW,this);BM['call'](this,BI['filter'](BX=>BX!=BN));},this);}BO=BO['concat']();BO['push'](BS);BN['set']('objects',BO);}['bind'](this));function BM(BY){this['stopMeasurement'](BY);for(var BZ of BY){var C0=BZ['get']('id');BZ['set']('surfaceSelectionEnabled',BK[C0]);if(C0 in BL)BZ['get']('camera')['set']('doubleClickAction',BL[C0]);}}};TDV['Tour']['Script']['stopMeasurement']=function(C1){_deleteModel3DObjects['call'](this,C1,function(C2){return C2['get']('class')=='MeasureModel3DObject'&&C2['get']('mode')=='create'&&C2['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,C1,function(C3,C4){if(C4['get']('mode')=='create'){C4['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(C5,C6){if(!C5)C5=_getCurrentActiveModels['call'](this);var C7=C5['some'](function(C8){var C9=C8['get']('objects');var Ca=C9['find'](function(Cb){return Cb['get']('class')=='MeasureModel3DObject'&&Cb['get']('mode')=='create';});return Ca!=null;});if(!C7)this['startMeasurement'](C5,C6);else this['stopMeasurement'](C5);};TDV['Tour']['Script']['cleanAllMeasurements']=function(Cc){_deleteModel3DObjects['call'](this,Cc,function(Cd){return Cd['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(Ce){_deleteModel3DObjects['call'](this,Ce,function(Cf){return Cf['get']('class')=='MeasureModel3DObject'&&Cf['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(Cg,Ch){_forEachMeasureModel3DObject['call'](this,Cg,function(Ci,Cj){Cj['set']('enabled',Ch);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Ck){_forEachMeasureModel3DObject['call'](this,Ck,function(Cl,Cm){Cm['set']('enabled',!Cm['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(Cn){_forEachMeasureModel3DObject['call'](this,null,function(Co,Cp){Cp['set']('units',Cn);});};
//# sourceMappingURL=script_v2022.2.21.js.map
//Generated with v2022.2.21, Fri Mar 3 2023